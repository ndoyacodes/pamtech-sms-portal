import{r as e,j as s}from"./index-DgsANLC3.js";import{L as t}from"./use-auth-store-DlB6JPqf.js";import{u as i,S as a,T as r,U as n}from"./user-nav-BjY9odv6.js";import{D as o,c as m}from"./columns-DJrieg8g.js";import{m as l}from"./message.service-zEf1GUs7.js";import"./index-8bOQzAwE.js";import"./index-D_xSc7Or.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./input-BaSBk-Gd.js";import"./instance-SAW19xTi.js";import"./table-DgNG9M6V.js";import"./select-B9KeDb6u.js";import"./index-DCG-2Pmh.js";import"./index-BEsgrMAU.js";import"./index-B0zZW6rS.js";import"./index.esm-3KLEzfMo.js";import"./zod-8yhIYjTx.js";import"./form-CU8rwvsz.js";import"./label-BTdkY-TR.js";import"./senderid.services-ChtNoxr4.js";import"./badge-DkFHinrL.js";import"./checkbox-CDTCacFG.js";function d(){const[d,p]=e.useState({pageIndex:0,pageSize:10}),[c,x]=e.useState({filters:[],sorts:[{key:"id",direction:"DESC"}],page:0,size:10}),{data:j,isLoading:g,refetch:u}=i({queryKey:["all-sms",d.pageIndex,d.pageSize,c],queryFn:async()=>{const e={...c,page:d.pageIndex,size:d.pageSize},s=await l.getMessages({...e});return s||{content:s.content||[],totalElements:null==s?void 0:s.totalElements}},retry:2,staleTime:3e5});return s.jsxs(t,{children:[s.jsxs(t.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[s.jsx(a,{}),s.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[s.jsx(r,{}),s.jsx(n,{})]})]}),s.jsxs(t.Body,{children:[s.jsx("div",{className:"mb-2 flex items-center justify-between space-y-2",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"All messages"}),s.jsx("p",{className:"text-muted-foreground",children:"Here's a list of all messages"})]})}),g?s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})}):s.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:s.jsx(o,{data:null==j?void 0:j.content,columns:m,pagination:d,onPaginationChange:p,totalElements:(null==j?void 0:j.totalElements)||0,onFilterSubmit:e=>(x(e),p({pageIndex:0,pageSize:d.pageSize}),u())})})]})]})}export{d as default};
