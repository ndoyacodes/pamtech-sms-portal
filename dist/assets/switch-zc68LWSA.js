import{r as e,e as a,j as t,c as s}from"./index-DgsANLC3.js";import{u as r,c as n,a as o,r as i}from"./index-8bOQzAwE.js";import{u as c}from"./index-DCG-2Pmh.js";import{P as d}from"./index-D_xSc7Or.js";var l="Switch",[u,f]=n(l),[p,b]=u(l),h=e.forwardRef(((s,n)=>{const{__scopeSwitch:i,name:c,checked:l,defaultChecked:u,required:f,disabled:b,value:h="on",onCheckedChange:m,form:k,...w}=s,[x,y]=e.useState(null),j=a(n,(e=>y(e))),C=e.useRef(!1),N=!x||(k||!!x.closest("form")),[S=!1,E]=r({prop:l,defaultProp:u,onChange:m});return t.jsxs(p,{scope:i,checked:S,disabled:b,children:[t.jsx(d.button,{type:"button",role:"switch","aria-checked":S,"aria-required":f,"data-state":v(S),"data-disabled":b?"":void 0,disabled:b,value:h,...w,ref:j,onClick:o(s.onClick,(e=>{E((e=>!e)),N&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())}))}),N&&t.jsx(g,{control:x,bubbles:!C.current,name:c,value:h,checked:S,required:f,disabled:b,form:k,style:{transform:"translateX(-100%)"}})]})}));h.displayName=l;var m="SwitchThumb",k=e.forwardRef(((e,a)=>{const{__scopeSwitch:s,...r}=e,n=b(m,s);return t.jsx(d.span,{"data-state":v(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:a})}));k.displayName=m;var g=a=>{const{control:s,checked:r,bubbles:n=!0,...o}=a,d=e.useRef(null),l=c(r),u=i(s);return e.useEffect((()=>{const e=d.current,a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked").set;if(l!==r&&t){const a=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(a)}}),[l,r,n]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}var w=h,x=k;const y=e.forwardRef((({className:e,...a},r)=>t.jsx(w,{className:s("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:r,children:t.jsx(x,{className:s("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})));y.displayName=w.displayName;export{y as S};
