import{b as D,r as t,j as e,B as o,y as d}from"./index-d9TgJTTy.js";import{C as I,c as T}from"./card-CWiURnhm.js";import{F as A,a as S,b as i,c as n,d as m,f as j}from"./form-DxQsSBla.js";import{I as c}from"./input-DpwfBUf3.js";import{u as w}from"./index.esm-B6ab4Cq_.js";import{L as x}from"./use-auth-store-CiawQdvf.js";import{S as F,T as E,U as K,d as f}from"./user-nav-1-09pvFT.js";import{a as L,I as P}from"./IconEye-DtzBgD97.js";import"./label-BkzUlrRU.js";import"./index-Chc_HW3c.js";import"./index-CD610jSn.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./instance-BGpPafi2.js";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O=D("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);const ee=()=>{const[a,p]=t.useState({apiKey:"",expired:!1,expiryDate:"",createdAt:"",id:null}),[g,r]=t.useState(!1),[l,h]=t.useState(!1),[v,u]=t.useState(!1),N=w({defaultValues:{endpoint:"https://opessms.yared.codes/api/v1/sms/send"}}),b=async()=>{try{r(!0);const s=await f.generateCustomerApiKey();s!=null&&s.body&&p(s.body)}catch{d.error("Failed to fetch API Token details")}finally{r(!1)}};t.useEffect(()=>{b()},[]);const k=async()=>{try{r(!0);const s=await f.generateCustomerApiKey();s!=null&&s.body&&(p(s.body),h(!0),d.success("API Token Regenerated Successfully"))}catch{d.error("Failed to regenerate API Token, Please try again later!")}finally{r(!1)}},C=()=>{navigator.clipboard.writeText(a.apiKey),u(!0),setTimeout(()=>u(!1),2e3)},y=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs(x,{children:[e.jsxs(x.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(F,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(E,{}),e.jsx(K,{})]})]}),e.jsx(x.Body,{children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-6",children:[e.jsx("span",{children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Developers"})]}),e.jsx(I,{children:e.jsxs(T,{className:"p-6",children:[e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx(o,{variant:"default",onClick:k,loading:g,children:"Regenerate Token"}),e.jsx(o,{variant:"outline",children:"Read the Docs"})]}),e.jsx(A,{...N,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(S,{name:"endpoint",render:({field:s})=>e.jsxs(i,{children:[e.jsx(n,{className:"text-sm font-medium",children:"API Endpoint"}),e.jsx(m,{children:e.jsx(c,{...s,readOnly:!0})})]})}),e.jsxs(i,{children:[e.jsx(n,{className:"text-sm font-medium",children:"API Token"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{value:l?a.apiKey:"••••••••••••••••",readOnly:!0,className:"pr-24"}),e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx(o,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!l),children:l?e.jsx(L,{className:"h-4 w-4"}):e.jsx(P,{className:"h-4 w-4"})}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",onClick:C,children:e.jsx(O,{className:"h-4 w-4"})})]})]}),v&&e.jsx(j,{className:"text-green-600",children:"Copied to clipboard!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(i,{children:[e.jsx(n,{className:"text-sm font-medium",children:"Expiry Date"}),e.jsx(m,{children:e.jsx(c,{value:a.expiryDate?y(a.expiryDate):"N/A",readOnly:!0,className:a.expired?"text-red-500":""})}),a.expired&&e.jsx(j,{className:"text-red-500",children:"Token has expired"})]}),e.jsxs(i,{children:[e.jsx(n,{className:"text-sm font-medium",children:"Created At"}),e.jsx(m,{children:e.jsx(c,{value:a.createdAt?y(a.createdAt):"N/A",readOnly:!0})})]})]})]})})]})})]})})]})};export{ee as default};
