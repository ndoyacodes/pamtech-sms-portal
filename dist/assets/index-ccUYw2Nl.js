import{R as e,e as r,j as t,A as o,r as n}from"./index-DgsANLC3.js";import{c}from"./index-8bOQzAwE.js";function l(n){const l=n+"CollectionProvider",[i,s]=c(l),[a,f]=i(l,{collectionRef:{current:null},itemMap:new Map}),u=r=>{const{scope:o,children:n}=r,c=e.useRef(null),l=e.useRef(new Map).current;return t.jsx(a,{scope:o,itemMap:l,collectionRef:c,children:n})};u.displayName=l;const d=n+"CollectionSlot",m=o(d),p=e.forwardRef(((e,o)=>{const{scope:n,children:c}=e,l=f(d,n),i=r(o,l.collectionRef);return t.jsx(m,{ref:i,children:c})}));p.displayName=d;const x=n+"CollectionItemSlot",R="data-radix-collection-item",C=o(x),M=e.forwardRef(((o,n)=>{const{scope:c,children:l,...i}=o,s=e.useRef(null),a=r(n,s),u=f(x,c);return e.useEffect((()=>(u.itemMap.set(s,{ref:s,...i}),()=>{u.itemMap.delete(s)}))),t.jsx(C,{[R]:"",ref:a,children:l})}));return M.displayName=x,[{Provider:u,Slot:p,ItemSlot:M},function(r){const t=f(n+"CollectionConsumer",r);return e.useCallback((()=>{const e=t.collectionRef.current;if(!e)return[];const r=Array.from(e.querySelectorAll(`[${R}]`));return Array.from(t.itemMap.values()).sort(((e,t)=>r.indexOf(e.ref.current)-r.indexOf(t.ref.current)))}),[t.collectionRef,t.itemMap])},s]}var i=n.createContext(void 0);function s(e){const r=n.useContext(i);return e||r||"ltr"}export{l as c,s as u};
