import{f as N,r as M,j as e,B as U}from"./index-d9TgJTTy.js";import{u as E}from"./index.esm-B6ab4Cq_.js";import{t as F}from"./zod-CLsu2KRF.js";import{z as a}from"./index-C3hmKdn7.js";import{S as u,a as x,b as h,c as j,d as l}from"./select-cMMktxW9.js";import{S as A}from"./react-select.esm-BLyL2-KV.js";import{F as V,a as i,b as n,c as t,d as c,e as o}from"./form-DxQsSBla.js";import{I as S}from"./input-DpwfBUf3.js";import{L as p}from"./use-auth-store-CiawQdvf.js";import{S as B,T as q,U as P}from"./user-nav-1-09pvFT.js";import"./index-CD610jSn.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-Chc_HW3c.js";import"./index-LU4gLCaG.js";import"./index-W6PM2pC6.js";import"./index-BCvMni3w.js";import"./extends-CF3RwP-h.js";import"./index-DTsOzCj_.js";import"./label-BkzUlrRU.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./instance-BGpPafi2.js";const w=a.object({number:a.string().min(1,"Number is required"),status:a.string().min(1,"Status is required"),capabilities:a.array(a.string()).min(1,"Select at least one capability"),price:a.string(),billing_cycle:a.string().min(1,"Billing cycle is required"),customer:a.string().min(1,"Customer is required"),currency:a.string().min(1,"Currency is required")}),ae=()=>{var y;const b=N(),m=(y=b==null?void 0:b.state)==null?void 0:y.record,d=m?"edit":"add",s=E({resolver:F(w),defaultValues:{number:"",status:"",capabilities:[],price:"0",billing_cycle:"",customer:"",currency:"USD"}}),C=()=>{};M.useEffect(()=>{d==="edit"&&m&&s.reset(m)},[d,m,s]);const v=[{value:"SMS",label:"SMS"},{value:"Voice",label:"Voice"},{value:"MMS",label:"MMS"},{value:"WhatsApp",label:"WhatsApp"}];return e.jsxs(p,{children:[e.jsxs(p.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(B,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(q,{}),e.jsx(P,{})]})]}),e.jsx(p.Header,{children:e.jsx("h2",{className:"text-2xl font-bold",children:d==="edit"?"Edit Number":"Add New Number"})}),e.jsxs(p.Body,{children:[e.jsxs("p",{children:["Numbers allow you to be recognisable and reachable for your Customers: provide a response option to your marketing messages,",e.jsx("br",{}),"be reachable locally in another country and manage your inbound messages if your sms gateway support this feature."]}),e.jsx(V,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(C),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:s.control,name:"number",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Number"}),e.jsx(c,{children:e.jsx(S,{placeholder:"Enter Number",...r})}),e.jsx(o,{})]})}),e.jsx(i,{control:s.control,name:"status",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Status"}),e.jsx(c,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select status"})}),e.jsxs(j,{children:[e.jsx(l,{value:"Available",children:"Available"}),e.jsx(l,{value:"Unavailable",children:"Unavailable"})]})]})}),e.jsx(o,{})]})}),e.jsx(i,{control:s.control,name:"capabilities",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Capabilities"}),e.jsx(c,{children:e.jsx(A,{className:"my-react-select-container",classNamePrefix:"my-react-select",isMulti:!0,options:v,placeholder:"Select capabilities",value:v.filter(g=>r.value.includes(g.value)),onChange:g=>r.onChange(g.map(f=>f.value))})}),e.jsx(o,{})]})}),e.jsx(i,{control:s.control,name:"price",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Price"}),e.jsx(c,{children:e.jsx(S,{type:"number",min:"0",placeholder:"Enter Price",...r})}),e.jsx(o,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:s.control,name:"billing_cycle",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Billing Cycle"}),e.jsx(c,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select billing cycle"})}),e.jsxs(j,{children:[e.jsx(l,{value:"Monthly",children:"Monthly"}),e.jsx(l,{value:"Yearly",children:"Yearly"})]})]})}),e.jsx(o,{})]})}),e.jsx(i,{control:s.control,name:"customer",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Select Customer"}),e.jsx(c,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select customer"})}),e.jsxs(j,{children:[e.jsx(l,{value:"Super Admin",children:"Super Admin"}),e.jsx(l,{value:"Customer1",children:"Customer 1"}),e.jsx(l,{value:"Customer2",children:"Customer 2"})]})]})}),e.jsx(o,{})]})}),e.jsx(i,{control:s.control,name:"currency",render:({field:r})=>e.jsxs(n,{children:[e.jsx(t,{children:"Currency"}),e.jsx(c,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select currency"})}),e.jsxs(j,{children:[e.jsx(l,{value:"USD",children:"USD"}),e.jsx(l,{value:"EUR",children:"EUR"}),e.jsx(l,{value:"GBP",children:"GBP"})]})]})}),e.jsx(o,{})]})})]})]}),e.jsx(U,{type:"submit",className:"btn-primary",children:d==="edit"?"Update":"Save"})]})})]})]})};export{ae as default};
