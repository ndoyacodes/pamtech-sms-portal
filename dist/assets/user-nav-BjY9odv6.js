var t,e,s,i,r,a,n,o,l,h,c,u,d,f,p,m,g,v,y,b,x,w,j,R,C,S,k=t=>{throw TypeError(t)},N=(t,e,s)=>e.has(t)||k("Cannot "+s),O=(t,e,s)=>(N(t,e,"read from private field"),s?s.call(t):e.get(t)),M=(t,e,s)=>e.has(t)?k("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),I=(t,e,s,i)=>(N(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),E=(t,e,s)=>(N(t,e,"access private method"),s);import{q as A,G as U,H as W,t as D,I as L,J as F,K as P,M as T,N as q,P as _,Q,T as B,x as z,r as H,m as K,b as G,j as J,U as V,B as Y,c as X,l as Z}from"./index-DgsANLC3.js";import{I as $}from"./input-BaSBk-Gd.js";import{c as tt,o as et,b as st}from"./index-8bOQzAwE.js";import{P as it}from"./index-D_xSc7Or.js";import{u as rt,D as at,a as nt,b as ot,c as lt,d as ht,n as ct,e as ut}from"./use-auth-store-DlB6JPqf.js";import{s as dt,n as ft,A as pt}from"./instance-SAW19xTi.js";var mt=(S=class extends A{constructor(g,v){super(),M(this,m),M(this,t),M(this,e),M(this,s),M(this,i),M(this,r),M(this,a),M(this,n),M(this,o),M(this,l),M(this,h),M(this,c),M(this,u),M(this,d),M(this,f),M(this,p,new Set),this.options=v,I(this,t,g),I(this,o,null),I(this,n,U()),this.options.experimental_prefetchInRender||O(this,n).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(v)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(O(this,e).addObserver(this),gt(O(this,e),this.options)?E(this,m,g).call(this):this.updateResult(),E(this,m,x).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vt(O(this,e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vt(O(this,e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,E(this,m,w).call(this),E(this,m,j).call(this),O(this,e).removeObserver(this)}setOptions(s){const i=this.options,r=O(this,e);if(this.options=O(this,t).defaultQueryOptions(s),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof W(this.options.enabled,O(this,e)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");E(this,m,R).call(this),O(this,e).setOptions(this.options),i._defaulted&&!D(this.options,i)&&O(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,e),observer:this});const a=this.hasListeners();a&&yt(O(this,e),r,this.options,i)&&E(this,m,g).call(this),this.updateResult(),!a||O(this,e)===r&&W(this.options.enabled,O(this,e))===W(i.enabled,O(this,e))&&L(this.options.staleTime,O(this,e))===L(i.staleTime,O(this,e))||E(this,m,v).call(this);const n=E(this,m,y).call(this);!a||O(this,e)===r&&W(this.options.enabled,O(this,e))===W(i.enabled,O(this,e))&&n===O(this,f)||E(this,m,b).call(this,n)}getOptimisticResult(s){const n=O(this,t).getQueryCache().build(O(this,t),s),o=this.createResult(n,s);return function(t,e){if(!D(t.getCurrentResult(),e))return!0;return!1}(this,o)&&(I(this,i,o),I(this,a,this.options),I(this,r,O(this,e).state)),o}getCurrentResult(){return O(this,i)}trackResult(t,e){const s={};return Object.keys(t).forEach((i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null==e||e(i),t[i])})})),s}trackProp(t){O(this,p).add(t)}getCurrentQuery(){return O(this,e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(e){const s=O(this,t).defaultQueryOptions(e),i=O(this,t).getQueryCache().build(O(this,t),s);return i.fetch().then((()=>this.createResult(i,s)))}fetch(t){return E(this,m,g).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),O(this,i))))}createResult(t,u){var d;const f=O(this,e),p=this.options,m=O(this,i),g=O(this,r),v=O(this,a),y=t!==f?t.state:O(this,s),{state:b}=t;let x,w={...b},j=!1;if(u._optimisticResults){const e=this.hasListeners(),s=!e&&gt(t,u),i=e&&yt(t,f,u,p);(s||i)&&(w={...w,...Q(b.data,t.options)}),"isRestoring"===u._optimisticResults&&(w.fetchStatus="idle")}let{error:R,errorUpdatedAt:C,status:S}=w;if(u.select&&void 0!==w.data)if(m&&w.data===(null==g?void 0:g.data)&&u.select===O(this,l))x=O(this,h);else try{I(this,l,u.select),x=u.select(w.data),x=B(null==m?void 0:m.data,x,u),I(this,h,x),I(this,o,null)}catch(D){I(this,o,D)}else x=w.data;if(void 0!==u.placeholderData&&void 0===x&&"pending"===S){let t;if((null==m?void 0:m.isPlaceholderData)&&u.placeholderData===(null==v?void 0:v.placeholderData))t=m.data;else if(t="function"==typeof u.placeholderData?u.placeholderData(null==(d=O(this,c))?void 0:d.state.data,O(this,c)):u.placeholderData,u.select&&void 0!==t)try{t=u.select(t),I(this,o,null)}catch(D){I(this,o,D)}void 0!==t&&(S="success",x=B(null==m?void 0:m.data,t,u),j=!0)}O(this,o)&&(R=O(this,o),x=O(this,h),C=Date.now(),S="error");const k="fetching"===w.fetchStatus,N="pending"===S,M="error"===S,E=N&&k,A=void 0!==x,W={status:S,fetchStatus:w.fetchStatus,isPending:N,isSuccess:"success"===S,isError:M,isInitialLoading:E,isLoading:E,data:x,dataUpdatedAt:w.dataUpdatedAt,error:R,errorUpdatedAt:C,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>y.dataUpdateCount||w.errorUpdateCount>y.errorUpdateCount,isFetching:k,isRefetching:k&&!N,isLoadingError:M&&!A,isPaused:"paused"===w.fetchStatus,isPlaceholderData:j,isRefetchError:M&&A,isStale:bt(t,u),refetch:this.refetch,promise:O(this,n)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===W.status?t.reject(W.error):void 0!==W.data&&t.resolve(W.data)},s=()=>{const t=I(this,n,W.promise=U());e(t)},i=O(this,n);switch(i.status){case"pending":t.queryHash===f.queryHash&&e(i);break;case"fulfilled":"error"!==W.status&&W.data===i.value||s();break;case"rejected":"error"===W.status&&W.error===i.reason||s()}}return W}updateResult(){const t=O(this,i),s=this.createResult(O(this,e),this.options);if(I(this,r,O(this,e).state),I(this,a,this.options),void 0!==O(this,r).data&&I(this,c,O(this,e)),D(s,t))return;I(this,i,s);E(this,m,C).call(this,{listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!O(this,p).size)return!0;const r=new Set(s??O(this,p));return this.options.throwOnError&&r.add("error"),Object.keys(O(this,i)).some((e=>{const s=e;return O(this,i)[s]!==t[s]&&r.has(s)}))})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&E(this,m,x).call(this)}},t=new WeakMap,e=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakMap,a=new WeakMap,n=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakSet,g=function(t){E(this,m,R).call(this);let s=O(this,e).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(s=s.catch(F)),s},v=function(){E(this,m,w).call(this);const t=L(this.options.staleTime,O(this,e));if(P||O(this,i).isStale||!T(t))return;const s=q(O(this,i).dataUpdatedAt,t);I(this,u,setTimeout((()=>{O(this,i).isStale||this.updateResult()}),s+1))},y=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(O(this,e)):this.options.refetchInterval)??!1},b=function(t){E(this,m,j).call(this),I(this,f,t),!P&&!1!==W(this.options.enabled,O(this,e))&&T(O(this,f))&&0!==O(this,f)&&I(this,d,setInterval((()=>{(this.options.refetchIntervalInBackground||_.isFocused())&&E(this,m,g).call(this)}),O(this,f)))},x=function(){E(this,m,v).call(this),E(this,m,b).call(this,E(this,m,y).call(this))},w=function(){O(this,u)&&(clearTimeout(O(this,u)),I(this,u,void 0))},j=function(){O(this,d)&&(clearInterval(O(this,d)),I(this,d,void 0))},R=function(){const i=O(this,t).getQueryCache().build(O(this,t),this.options);if(i===O(this,e))return;const r=O(this,e);I(this,e,i),I(this,s,i.state),this.hasListeners()&&(null==r||r.removeObserver(this),i.addObserver(this))},C=function(s){z.batch((()=>{s.listeners&&this.listeners.forEach((t=>{t(O(this,i))})),O(this,t).getQueryCache().notify({query:O(this,e),type:"observerResultsUpdated"})}))},S);function gt(t,e){return function(t,e){return!1!==W(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&vt(t,e,e.refetchOnMount)}function vt(t,e,s){if(!1!==W(e.enabled,t)){const i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&bt(t,e)}return!1}function yt(t,e,s,i){return(t!==e||!1===W(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&bt(t,s)}function bt(t,e){return!1!==W(e.enabled,t)&&t.isStaleByTime(L(e.staleTime,t))}var xt=H.createContext(!1);xt.Provider;var wt=H.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),jt=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function Rt(t,e,s){var i,r,a,n,o;if("object"!=typeof t||Array.isArray(t))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const l=K(s),h=H.useContext(xt),c=H.useContext(wt),u=l.defaultQueryOptions(t);null==(r=null==(i=l.getDefaultOptions().queries)?void 0:i._experimental_beforeQuery)||r.call(i,u),u.queryFn,u._optimisticResults=h?"isRestoring":"optimistic",(t=>{const e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))})(u),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(u,c),(t=>{H.useEffect((()=>{t.clearReset()}),[t])})(c);const d=!l.getQueryCache().get(u.queryHash),[f]=H.useState((()=>new e(l,u))),p=f.getOptimisticResult(u),m=!h&&!1!==t.subscribed;if(H.useSyncExternalStore(H.useCallback((t=>{const e=m?f.subscribe(z.batchCalls(t)):ft;return f.updateResult(),e}),[f,m]),(()=>f.getCurrentResult()),(()=>f.getCurrentResult())),H.useEffect((()=>{f.setOptions(u)}),[u,f]),((t,e)=>(null==t?void 0:t.suspense)&&e.isPending)(u,p))throw jt(u,f,c);if((({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&void 0===t.data||dt(s,[t.error,i])))({result:p,errorResetBoundary:c,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if(null==(n=null==(a=l.getDefaultOptions().queries)?void 0:a._experimental_afterQuery)||n.call(a,u,p),u.experimental_prefetchInRender&&!P&&((t,e)=>t.isLoading&&t.isFetching&&!e)(p,h)){const t=d?jt(u,f,c):null==(o=l.getQueryCache().get(u.queryHash))?void 0:o.promise;null==t||t.catch(ft).finally((()=>{f.updateResult()}))}return u.notifyOnChangeProps?p:f.trackResult(p)}function Ct(t,e){return Rt(t,mt,e)}
/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var St=G("outline","moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]),kt=G("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);
/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */function Nt(){return J.jsx("div",{children:J.jsx($,{type:"search",placeholder:"Search...",className:"md:w-[100px] lg:w-[300px]"})})}function Ot(){const{theme:t,setTheme:e}=V();return H.useEffect((()=>{const e="dark"===t?"#020817":"#fff",s=document.querySelector("meta[name='theme-color']");s&&s.setAttribute("content",e)}),[t]),J.jsx(Y,{size:"icon",variant:"ghost",className:"rounded-full",onClick:()=>e("light"===t?"dark":"light"),children:"light"===t?J.jsx(St,{size:20}):J.jsx(kt,{size:20})})}var Mt="Avatar",[It,Et]=tt(Mt),[At,Ut]=It(Mt),Wt=H.forwardRef(((t,e)=>{const{__scopeAvatar:s,...i}=t,[r,a]=H.useState("idle");return J.jsx(At,{scope:s,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:J.jsx(it.span,{...i,ref:e})})}));Wt.displayName=Mt;var Dt="AvatarImage",Lt=H.forwardRef(((t,e)=>{const{__scopeAvatar:s,src:i,onLoadingStatusChange:r=()=>{},...a}=t,n=Ut(Dt,s),o=function(t,{referrerPolicy:e,crossOrigin:s}){const i=H.useSyncExternalStore(qt,(()=>!0),(()=>!1)),r=H.useRef(null),a=i?(r.current||(r.current=new window.Image),r.current):null,[n,o]=H.useState((()=>Tt(a,t)));return st((()=>{o(Tt(a,t))}),[a,t]),st((()=>{const t=t=>()=>{o(t)};if(!a)return;const i=t("loaded"),r=t("error");return a.addEventListener("load",i),a.addEventListener("error",r),e&&(a.referrerPolicy=e),"string"==typeof s&&(a.crossOrigin=s),()=>{a.removeEventListener("load",i),a.removeEventListener("error",r)}}),[a,s,e]),n}(i,a),l=et((t=>{r(t),n.onImageLoadingStatusChange(t)}));return st((()=>{"idle"!==o&&l(o)}),[o,l]),"loaded"===o?J.jsx(it.img,{...a,ref:e,src:i}):null}));Lt.displayName=Dt;var Ft="AvatarFallback",Pt=H.forwardRef(((t,e)=>{const{__scopeAvatar:s,delayMs:i,...r}=t,a=Ut(Ft,s),[n,o]=H.useState(void 0===i);return H.useEffect((()=>{if(void 0!==i){const t=window.setTimeout((()=>o(!0)),i);return()=>window.clearTimeout(t)}}),[i]),n&&"loaded"!==a.imageLoadingStatus?J.jsx(it.span,{...r,ref:e}):null}));function Tt(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qt(){return()=>{}}Pt.displayName=Ft;var _t=Wt,Qt=Lt,Bt=Pt;const zt=H.forwardRef((({className:t,...e},s)=>J.jsx(_t,{ref:s,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e})));zt.displayName=_t.displayName;const Ht=H.forwardRef((({className:t,...e},s)=>J.jsx(Qt,{ref:s,className:X("aspect-square h-full w-full",t),...e})));Ht.displayName=Qt.displayName;const Kt=H.forwardRef((({className:t,...e},s)=>J.jsx(Bt,{ref:s,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e})));Kt.displayName=Bt.displayName;const Gt=Yt;!function(){const t=Yt,e=Vt();for(;;)try{if(735575===parseInt(t(460))/1+parseInt(t(465))/2*(parseInt(t(463))/3)+-parseInt(t(458))/4*(parseInt(t(443))/5)+parseInt(t(462))/6+-parseInt(t(451))/7*(parseInt(t(459))/8)+-parseInt(t(446))/9+-parseInt(t(444))/10)break;e.push(e.shift())}catch(s){e.push(e.shift())}}();const Jt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Yt(450)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}()(void 0,(function(){const t=Yt,e={vWrei:t(455)};return Jt.toString().search(e[t(464)])[t(440)]()[t(448)](Jt)[t(441)](e[t(464)])}));function Vt(){const t=["4nodxPF","290168TPSEjQ","749432LLkFVt","get","8374674ASGbhd","3224109OwWyhT","vWrei","2UVNlsu","toString","search","generateCustomerApiKey","3656015DXYSNz","6468510iMGJYK","/dashboard/customer/status-summary","3754224UEvzZP","bScgA","constructor","/dashboard/customer/chart","apply","133EnbNUF","/dashboard/customer","getCustomerDashboardData","sNsvA","(((.+)+)+)+$","getDashbordCustomerPieData","getDashbordCustomerChat"];return(Vt=function(){return t})()}function Yt(t,e){const s=Vt();return(Yt=function(t,e){return s[t-=440]})(t,e)}Jt();class Xt extends pt{constructor(){super("baseService")}[Gt(453)](){const t=Gt,e={bScgA:t(452)};return this.get(e[t(447)])}[Gt(456)](){const t=Gt;return this[t(461)](t(445))}[Gt(457)](t){const e=Gt;return this.get(e(449),t)}[Gt(442)](){const t=Gt;return this[t(461)]({sNsvA:"/api-key/generate"}[t(454)])}}const Zt=new Xt;function $t(){var t,e;const s=Z(),{user:i}=rt(),{data:r,isLoading:a}=Ct({queryKey:["dashboard"],queryFn:async()=>{if(null==i?void 0:i.customer){return await Zt.getCustomerDashboardData()}},retry:2,staleTime:3e5});return J.jsxs("div",{className:"flex  items-center justify-center gap-2",children:[(null==i?void 0:i.customer)&&J.jsx("div",{className:"flex flex-row gap-2 justify-start mr-2",children:a?J.jsx("div",{className:"flex h-12 items-center justify-center",children:J.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})}):J.jsxs("div",{className:"flex flex-col items-start justify-start",children:[J.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"SMS Balance"}),J.jsxs("p",{className:"text-sm font-semibold",children:[(n=null==r?void 0:r.smsBalance,new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(n))," SMS"]})]})}),J.jsxs(at,{children:[J.jsx(nt,{asChild:!0,children:J.jsx(Y,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:J.jsxs(zt,{className:"h-10 w-10",children:[J.jsx(Ht,{src:"/avatars/01.png",alt:"@shadcn"}),J.jsxs(Kt,{children:[null==(t=null==i?void 0:i.firstName)?void 0:t.charAt(0).toUpperCase(),"  ",null==(e=null==i?void 0:i.lastName)?void 0:e.charAt(0).toUpperCase()]})]})})}),J.jsxs(ot,{className:"w-56",align:"end",forceMount:!0,children:[J.jsx(lt,{className:"font-normal",children:J.jsxs("div",{className:"flex flex-col space-y-1",children:[J.jsxs("p",{className:"text-sm font-medium leading-none",children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),J.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:null==i?void 0:i.email})]})}),J.jsx(ht,{}),J.jsxs(ct,{children:[J.jsx(ut,{onClick:()=>s("/profile"),children:"Profile"}),J.jsx(ut,{onClick:()=>s("/settings"),children:"Settings"}),J.jsx(ut,{children:"Billing"})]}),J.jsx(ht,{}),J.jsx(ut,{onClick:()=>{s("/sign-in")},children:"Log out"})]})]})]});var n}export{zt as A,Nt as S,Ot as T,$t as U,Ht as a,Kt as b,Zt as d,Ct as u};
