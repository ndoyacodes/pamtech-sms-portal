import{g as e,j as s,B as a}from"./index-DgsANLC3.js";import{z as r}from"./index-B0zZW6rS.js";import{t as l}from"./zod-8yhIYjTx.js";import{u as n}from"./index.esm-3KLEzfMo.js";import{F as t,a as o,b as i,c,d,e as m}from"./form-CU8rwvsz.js";import{S as j,a as x,b as h,c as p,d as u}from"./select-B9KeDb6u.js";import{I as f}from"./input-BaSBk-Gd.js";import{P as g}from"./password-input-Baghn-rL.js";import{L as N}from"./use-auth-store-DlB6JPqf.js";import{S as v,T as y,U as b}from"./user-nav-BjY9odv6.js";import{u as w}from"./customer-hook-DtrhpQio.js";import{U as P}from"./user-DO7yJkip.js";import{M as C,S as I,B as S}from"./shield-B16-7wBW.js";import{P as V}from"./phone-ABo32tNg.js";import{G as F}from"./globe-Cdvf1KkP.js";import{I as D}from"./IconUserPlus-DUhuP9Hl.js";import"./label-BTdkY-TR.js";import"./index-D_xSc7Or.js";import"./index-8bOQzAwE.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-DCG-2Pmh.js";import"./index-BEsgrMAU.js";import"./IconEye-D2NhOiI9.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./instance-SAW19xTi.js";import"./useMutation-Bxa_RUaj.js";import"./createLucideIcon-DHucisN1.js";const L=A;function T(){const e=["Invalid website URL","22wmvoMn","Please enter first name","3904520cxpRme","Passwords don't match","Please enter your password","enum","constructor","Please select Time zone","search","Please enter company name","9MtBNXW","9637836pSjnmv","1402pYQYWN","foaVD","1239834umFeMS","object","461pLxWWr","min","url","Please enter email","Invalid email format","apply","5459776HCbLqv","2394cLNnCR","refine","toString","PREPAID","4601205AtlzPG","Please confirm your password","10330HiVBep","Please enter last name","Password must be at least 7 characters long","36FFVLdZ","any","8Clzgha","password","POSTPAID","Please select country code","string"];return(T=function(){return e})()}!function(){const e=A,s=T();for(;;)try{if(424364===-parseInt(e(305))/1*(-parseInt(e(301))/2)+-parseInt(e(303))/3*(parseInt(e(323))/4)+parseInt(e(318))/5*(parseInt(e(312))/6)+-parseInt(e(316))/7+-parseInt(e(311))/8*(parseInt(e(299))/9)+parseInt(e(291))/10*(-parseInt(e(289))/11)+-parseInt(e(321))/12*(-parseInt(e(300))/13))break;s.push(s.shift())}catch(a){s.push(s.shift())}}();const z=function(){let e=!0;return function(s,a){const r=e?function(){if(a){const e=a[A(310)](s,arguments);return a=null,e}}:function(){};return e=!1,r}}()(void 0,(function(){const e=A,s={foaVD:"(((.+)+)+)+$"};return z[e(314)]()[e(297)](s[e(302)])[e(314)]()[e(295)](z)[e(297)](s[e(302)])}));function A(e,s){const a=T();return(A=function(e,s){return a[e-=287]})(e,s)}z();const k=r[L(294)]([L(325),L(315)]),E=r[L(304)]({email:r.string().min(1,{message:L(308)}).email({message:L(309)}),firstName:r[L(287)]()[L(306)](1,{message:L(290)}),lastName:r[L(287)]()[L(306)](1,{message:L(319)}),timezone:r[L(287)]()[L(306)](1,{message:L(296)}),status:r.boolean(),language:r.string()[L(306)](1,{message:"Please select language"}),companyName:r[L(287)]()[L(306)](1,{message:L(298)}),website:r[L(287)]()[L(307)]({message:L(288)}).optional(),kycFile:r[L(322)](),customerType:k,countryCode:r[L(287)]()[L(306)](1,{message:L(326)}),phoneNumber:r[L(287)]()[L(306)](1,{message:"Please enter phone number"}),password:r[L(287)]()[L(306)](1,{message:L(293)}).min(7,{message:L(320)}),confirmPassword:r[L(287)]()[L(306)](1,{message:L(317)})})[L(313)]((e=>e[L(324)]===e.confirmPassword),{message:L(292),path:["confirmPassword"]}),U=()=>{var r;const L=e(),T=null==(r=null==L?void 0:L.state)?void 0:r.record,{updateCustomer:z,createCustomer:A}=w(),k=null==Intl?void 0:Intl.supportedValuesOf("timeZone"),U=n({resolver:l(E),defaultValues:T||{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",timezone:"",language:"",companyName:"",website:"",customerType:"POSTPAID",countryCode:"",phoneNumber:"",status:!0,kycFile:null}});return s.jsxs(N,{children:[s.jsxs(N.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[s.jsx(v,{}),s.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[s.jsx(y,{}),s.jsx(b,{})]})]}),s.jsxs(N.Body,{children:[s.jsx("div",{className:"mb-4 flex items-center justify-between space-y-2",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:T?"Edit Customer":"Add Customer"}),s.jsx("p",{className:"text-muted-foreground",children:T?"Update the customer details below":"Fill in the form below to add a new customer"})]})}),s.jsx(t,{...U,children:s.jsxs("form",{onSubmit:U.handleSubmit((function(e){const s={...e,website:e.website||""},a=new FormData;Object.entries({...s}).forEach((([e,s])=>{a.append(e,s)})),T?z.mutate({id:null==T?void 0:T.id,data:a}):A.mutate({data:a})})),children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(o,{control:U.control,name:"firstName",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"First Name"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"John",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"lastName",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Last Name"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"Doe",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"email",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Email"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(C,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"your@email.com",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"phoneNumber",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Phone Number"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(V,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"(255) 000-0000",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"countryCode",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Country Code"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(F,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"+1",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"language",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Language"}),s.jsxs(j,{onValueChange:e.onChange,defaultValue:e.value,children:[s.jsx(d,{children:s.jsx(x,{children:s.jsx(h,{placeholder:"Select language"})})}),s.jsxs(p,{children:[s.jsx(u,{value:"en",children:"English"}),s.jsx(u,{value:"es",children:"Spanish"}),s.jsx(u,{value:"fr",children:"French"})]})]}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"kycFile",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"KYC Document"}),s.jsx(d,{children:s.jsx("div",{className:"relative",children:s.jsx(f,{type:"file",className:"pl-9",accept:"application/pdf",onChange:s=>{var a;return e.onChange(null==(a=s.target.files)?void 0:a[0])}})})}),s.jsx(m,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(o,{control:U.control,name:"password",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Password"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(g,{className:"pl-9",placeholder:"********",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"confirmPassword",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Confirm Password"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(g,{className:"pl-9",placeholder:"********",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"companyName",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Company Name"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(S,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"Your Company Ltd.",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"website",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Website"}),s.jsx(d,{children:s.jsxs("div",{className:"relative",children:[s.jsx(F,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(f,{className:"pl-9",placeholder:"https://example.com",...e})]})}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"customerType",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Account Type"}),s.jsxs(j,{onValueChange:e.onChange,defaultValue:e.value,children:[s.jsx(d,{children:s.jsx(x,{children:s.jsx(h,{placeholder:"Select account type"})})}),s.jsxs(p,{children:[s.jsx(u,{value:"POSTPAID",children:"Postpaid"}),s.jsx(u,{value:"PREPAID",children:"Prepaid"})]})]}),s.jsx(m,{})]})}),s.jsx(o,{control:U.control,name:"timezone",render:({field:e})=>s.jsxs(i,{children:[s.jsx(c,{children:"Timezone"}),s.jsxs(j,{onValueChange:e.onChange,defaultValue:e.value,children:[s.jsx(d,{children:s.jsx(x,{children:s.jsx(h,{placeholder:"Select timezone"})})}),s.jsx(p,{children:k.map((e=>s.jsx(u,{value:e,children:e},e)))})]}),s.jsx(m,{})]})})]})]}),s.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6 md:grid-cols-2",children:s.jsxs(a,{type:"submit",className:"",children:[T?"Update Customer":"Add Customer",s.jsx(D,{className:"ml-2 h-4 w-4"})]})})]})})]})]})};export{U as default};
