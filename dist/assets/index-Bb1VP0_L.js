import{r as g,j as s,B as j}from"./index-d9TgJTTy.js";import{u as N}from"./index.esm-B6ab4Cq_.js";import{t as P}from"./zod-CLsu2KRF.js";import{z as a}from"./index-C3hmKdn7.js";import{C as b,a as y,b as v,c as C}from"./card-CWiURnhm.js";import{I as i}from"./input-DpwfBUf3.js";import{u as z,L as u}from"./use-auth-store-CiawQdvf.js";import{S as q,T as A,U as B}from"./user-nav-1-09pvFT.js";import{F as T,a as o,b as l,c as d,d as c,e as x}from"./form-DxQsSBla.js";import{u as H}from"./useAuth-DOUCA08Y.js";import{U as M}from"./user-B16-2BYC.js";import{c as S}from"./createLucideIcon-BDxxsDtu.js";import"./index-CD610jSn.js";import"./index-Chc_HW3c.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./instance-BGpPafi2.js";import"./label-BkzUlrRU.js";import"./useMutation-scFYzLXQ.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=S("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=S("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),R=a.object({firstName:a.string().min(2,"First name is required"),lastName:a.string().min(2,"Last name is required"),email:a.string().email("Invalid email address"),phone:a.string().min(10,"Phone number must be at least 10 digits"),username:a.string().email("Invalid username format")}),D=a.object({currentPassword:a.string().min(6,"Password must be at least 6 characters"),newPassword:a.string().min(6,"Password must be at least 6 characters"),confirmPassword:a.string()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),xs=()=>{const[t,p]=g.useState(!1),[w,F]=g.useState(""),{user:e}=z(),{resetPassword:h}=H(),n=N({resolver:P(R),defaultValues:{firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",username:(e==null?void 0:e.username)||""}}),k=async r=>{try{console.log("Profile updated:",r),p(!1)}catch(U){console.error("Error updating profile:",U)}},{register:f,handleSubmit:E,formState:{errors:m},reset:I}=N({resolver:P(D)}),L=async r=>{h.mutateAsync(r),I(),F("Password changed failed")};return s.jsxs(u,{children:[s.jsxs(u.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[s.jsx(q,{}),s.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[s.jsx(A,{}),s.jsx(B,{})]})]}),s.jsx(u.Body,{children:s.jsxs("div",{className:"",children:[s.jsxs("div",{className:" p-4 space-y-8",children:[s.jsxs(b,{children:[s.jsx(y,{className:"border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(v,{className:"text-xl flex items-center gap-2",children:[s.jsx(M,{className:"w-5 h-5"}),"Profile Information"]}),t?s.jsxs("div",{className:"space-x-2",children:[s.jsx(j,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(j,{onClick:n.handleSubmit(k),children:"Save Changes"})]}):s.jsx(j,{variant:"outline",onClick:()=>p(!0),children:"Edit Profile"})]})}),s.jsx(C,{className:"pt-6",children:s.jsx(T,{...n,children:s.jsx("form",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[s.jsx(o,{control:n.control,name:"firstName",render:({field:r})=>s.jsxs(l,{children:[s.jsx(d,{children:"First Name"}),s.jsx(c,{children:s.jsx(i,{...r,disabled:!t})}),s.jsx(x,{})]})}),s.jsx(o,{control:n.control,name:"lastName",render:({field:r})=>s.jsxs(l,{children:[s.jsx(d,{children:"Last Name"}),s.jsx(c,{children:s.jsx(i,{...r,disabled:!t})}),s.jsx(x,{})]})}),s.jsx(o,{control:n.control,name:"email",render:({field:r})=>s.jsxs(l,{children:[s.jsx(d,{children:"Email"}),s.jsx(c,{children:s.jsx(i,{...r,type:"email",disabled:!t})}),s.jsx(x,{})]})}),s.jsx(o,{control:n.control,name:"phone",render:({field:r})=>s.jsxs(l,{children:[s.jsx(d,{children:"Phone Number"}),s.jsx(c,{children:s.jsx(i,{...r,disabled:!t})}),s.jsx(x,{})]})}),s.jsx(o,{control:n.control,name:"username",render:({field:r})=>s.jsxs(l,{children:[s.jsx(d,{children:"Username"}),s.jsx(c,{children:s.jsx(i,{...r,disabled:!t})}),s.jsx(x,{})]})})]})})})})]}),s.jsxs(b,{children:[s.jsx(y,{className:"border-b",children:s.jsxs(v,{className:"text-xl flex items-center gap-2",children:[s.jsx(X,{className:"w-5 h-5"}),"Change Password"]})}),s.jsx(C,{className:"pt-6",children:s.jsxs("form",{onSubmit:E(L),className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Password"}),s.jsx(i,{type:"password",...f("currentPassword"),className:"mt-1"}),m.currentPassword&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.currentPassword.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Password"}),s.jsx(i,{type:"password",...f("newPassword"),className:"mt-1"}),m.newPassword&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.newPassword.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Confirm Password"}),s.jsx(i,{type:"password",...f("confirmPassword"),className:"mt-1"}),m.confirmPassword&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.confirmPassword.message})]})]}),s.jsx("div",{className:"flex items-end justify-end",children:s.jsx(j,{type:"submit",className:"w-full md:w-auto",loading:h==null?void 0:h.isPending,children:"Change Password"})})]})})]})]}),w&&s.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg flex items-center gap-2",children:[s.jsx(V,{className:"w-5 h-5"}),w]})]})})]})};export{xs as default};
