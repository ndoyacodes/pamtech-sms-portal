import{m as s,l as e,y as t,r,j as n,B as a}from"./index-DgsANLC3.js";import{u as i}from"./index.esm-3KLEzfMo.js";import{z as o}from"./index-B0zZW6rS.js";import{t as l}from"./zod-8yhIYjTx.js";import{F as c,a as d,b as m,c as u,d as j,e as p}from"./form-CU8rwvsz.js";import{T as x}from"./textarea-B6_lc-Cl.js";import{I as f}from"./input-BaSBk-Gd.js";import{L as h}from"./use-auth-store-DlB6JPqf.js";import{S as b,T as v,U as y}from"./user-nav-BjY9odv6.js";import{u as k}from"./useMutation-Bxa_RUaj.js";import{b as g}from"./blacklist.service-DTNP4ef1.js";import"./label-BTdkY-TR.js";import"./index-D_xSc7Or.js";import"./index-8bOQzAwE.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./instance-SAW19xTi.js";function S(s,e){const t=I();return(S=function(s,e){return t[s-=443]})(s,e)}!function(){const s=S,e=I();for(;;)try{if(796128===-parseInt(s(443))/1+parseInt(s(446))/2*(-parseInt(s(472))/3)+parseInt(s(470))/4+-parseInt(s(445))/5+parseInt(s(458))/6+parseInt(s(462))/7*(parseInt(s(450))/8)+parseInt(s(455))/9)break;e.push(e.shift())}catch(t){e.push(e.shift())}}();const N=function(){let s=!0;return function(e,t){const r=s?function(){if(t){const s=t.apply(e,arguments);return t=null,s}}:function(){};return s=!1,r}}()(void 0,(function(){const s=S,e={aZEpC:s(447)};return N[s(460)]()[s(451)](e[s(448)])[s(460)]()[s(461)](N)[s(451)](e[s(448)])}));function I(){const s=["574746yLbqXD","data","toString","constructor","679jOdyeN","Failed to add to blacklist","createBlacklistEntry","invalidateQueries","dJegk","response","/blacklists","error","1866544sxAwqP","Added to blacklist successfully","584673UrNGfh","success","xQSqi","message","750420ICxiNg","DMiHp","3709795ejylkr","12iWbyRf","(((.+)+)+)+$","aZEpC","Removed from blacklist successfully","77368OPnUZb","search","svyln","SaeGj","bTLRO","17616051LSFpoG","deleteBlacklistEntry","sugXz"];return(I=function(){return s})()}N();const B=o.object({msisdn:o.string().nonempty({message:"Paste Numbers is required"}),reason:o.string().optional()}),C=[{label:", (Comma)",value:","}],P=()=>{const[o,N]=r.useState(","),{addToBlacklist:I}=(()=>{const r=S,n={onOBh:"/blacklists",DMiHp:r(471),SaeGj:r(463),dJegk:function(s,e){return s(e)},bTLRO:"blacklists",svyln:r(449),xQSqi:"Failed to remove from blacklist",sugXz:function(s){return s()}},a=s(),i=n[r(457)](e);return{addToBlacklist:k({mutationFn:({data:s})=>g[r(464)](s),onSuccess:()=>{const s=r;a[s(465)]({queryKey:["blacklists"]}),i(n.onOBh),t[s(473)](n[s(444)])},onError:s=>{var e,a;const i=r,o=(null==(a=null==(e=null==s?void 0:s[i(467)])?void 0:e.data)?void 0:a[i(475)])||n[i(453)];t.error(o)}}),removeFromBlacklist:k({mutationFn:s=>g[r(456)](s),onSuccess:()=>{const s=r;n[s(466)](i,s(468)),a[s(465)]({queryKey:[n[s(454)]]}),t[s(473)](n[s(452)])},onError:s=>{var e,a;const i=r,o=(null==(a=null==(e=null==s?void 0:s.response)?void 0:e[i(459)])?void 0:a.message)||n[i(474)];t[i(469)](o)}})}})(),P=e(),q=i({resolver:l(B),defaultValues:{msisdn:"",reason:""}});return n.jsxs(h,{children:[n.jsxs(h.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[n.jsx(b,{}),n.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[n.jsx(v,{}),n.jsx(y,{})]})]}),n.jsx(h.Header,{children:n.jsx("h1",{className:"text-2xl font-bold",children:"Add SPam Word"})}),n.jsx(h.Body,{children:n.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:n.jsx(c,{...q,children:n.jsxs("form",{onSubmit:q.handleSubmit((s=>{I.mutate({data:s})})),className:"space-y-6",children:[n.jsx(d,{control:q.control,name:"msisdn",render:({field:s})=>n.jsxs(m,{children:[n.jsx(u,{children:"Paste Numbers *"}),n.jsx(j,{children:n.jsx(x,{placeholder:"Paste your blacklist numbers here",rows:6,...s})}),n.jsx(p,{})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(u,{children:"Delimiter"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((s=>n.jsx(a,{type:"button",variant:o===s.value?"default":"outline",onClick:()=>N(s.value),children:s.label},s.value)))})]}),n.jsx(d,{control:q.control,name:"reason",render:({field:s})=>n.jsxs(m,{children:[n.jsx(u,{children:"Reason"}),n.jsx(j,{children:n.jsx(f,{placeholder:"Optional",...s})}),n.jsx(p,{})]})}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(a,{type:"submit",loading:I.isPending,disabled:I.isPending,children:"Save"}),n.jsx(a,{type:"button",variant:"outline",onClick:()=>{q.reset(),N(","),P("/blacklists")},children:"Cancel"})]})]})})})})]})};export{P as AddBlacklistForm,P as default};
