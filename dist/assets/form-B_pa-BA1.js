import{o as b,r as z,j as se,P as Wt,c as he,N as qt,T as Ht}from"./index-st5SMf4n.js";var be=e=>e.type==="checkbox",le=e=>e instanceof Date,$=e=>e==null;const mt=e=>typeof e=="object";var N=e=>!$(e)&&!Array.isArray(e)&&mt(e)&&!le(e),_t=e=>N(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,vt=(e,r)=>e.has(Kt(r)),Gt=e=>{const r=e.constructor&&e.constructor.prototype;return N(r)&&r.hasOwnProperty("isPrototypeOf")},Ye=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function O(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ye&&(e instanceof Blob||e instanceof FileList))&&(t||N(e)))if(r=t?[]:{},!t&&!Gt(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=O(e[i]));else return e;return r}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,c=(e,r,t)=>{if(!r||!N(e))return t;const i=Fe(r.split(/[,[\].]+?/)).reduce((n,u)=>$(n)?n:n[u],e);return E(i)||i===e?E(e[r])?t:e[r]:i},G=e=>typeof e=="boolean",ze=e=>/^\w*$/.test(e),ht=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,r,t)=>{let i=-1;const n=ze(r)?[r]:ht(r),u=n.length,f=u-1;for(;++i<u;){const m=n[i];let x=t;if(i!==f){const R=e[m];x=N(R)||Array.isArray(R)?R:isNaN(+n[i+1])?{}:[]}if(m==="__proto__")return;e[m]=x,e=e[m]}return e};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bt=b.createContext(null),xe=()=>b.useContext(bt),Yt=e=>{const{children:r,...t}=e;return b.createElement(bt.Provider,{value:t},r)};var Ft=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const u in e)Object.defineProperty(n,u,{get:()=>{const f=u;return r._proxyFormState[f]!==Y.all&&(r._proxyFormState[f]=!i||Y.all),t&&(t[f]=!0),e[f]}});return n},B=e=>N(e)&&!Object.keys(e).length,xt=(e,r,t,i)=>{t(e);const{name:n,...u}=e;return B(u)||Object.keys(u).length>=Object.keys(r).length||Object.keys(u).find(f=>r[f]===(!i||Y.all))},W=e=>Array.isArray(e)?e:[e],At=(e,r,t)=>!e||!r||e===r||W(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function ke(e){const r=b.useRef(e);r.current=e,b.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function zt(e){const r=xe(),{control:t=r.control,disabled:i,name:n,exact:u}=e||{},[f,m]=b.useState(t._formState),x=b.useRef(!0),R=b.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=b.useRef(n);return F.current=n,ke({disabled:i,next:h=>x.current&&At(F.current,h.name,u)&&xt(h,R.current,t._updateFormState)&&m({...t._formState,...h}),subject:t._subjects.state}),b.useEffect(()=>(x.current=!0,R.current.isValid&&t._updateValid(!0),()=>{x.current=!1}),[t]),Ft(f,t,R.current,!1)}var re=e=>typeof e=="string",Vt=(e,r,t,i,n)=>re(e)?(i&&r.watch.add(e),c(t,e,n)):Array.isArray(e)?e.map(u=>(i&&r.watch.add(u),c(t,u))):(i&&(r.watchAll=!0),t);function Jt(e){const r=xe(),{control:t=r.control,name:i,defaultValue:n,disabled:u,exact:f}=e||{},m=b.useRef(i);m.current=i,ke({disabled:u,subject:t._subjects.values,next:F=>{At(m.current,F.name,f)&&R(O(Vt(m.current,t._names,F.values||t._formValues,!1,n)))}});const[x,R]=b.useState(t._getWatch(i,n));return b.useEffect(()=>t._removeUnmounted()),x}function Qt(e){const r=xe(),{name:t,disabled:i,control:n=r.control,shouldUnregister:u}=e,f=vt(n._names.array,t),m=Jt({control:n,name:t,defaultValue:c(n._formValues,t,c(n._defaultValues,t,e.defaultValue)),exact:!0}),x=zt({control:n,name:t,exact:!0}),R=b.useRef(n.register(t,{...e.rules,value:m,...G(e.disabled)?{disabled:e.disabled}:{}}));return b.useEffect(()=>{const F=n._options.shouldUnregister||u,h=(D,q)=>{const L=c(n._fields,D);L&&L._f&&(L._f.mount=q)};if(h(t,!0),F){const D=O(c(n._options.defaultValues,t));k(n._defaultValues,t,D),E(c(n._formValues,t))&&k(n._formValues,t,D)}return()=>{(f?F&&!n._state.action:F)?n.unregister(t):h(t,!1)}},[t,n,f,u]),b.useEffect(()=>{c(n._fields,t)&&n._updateDisabledField({disabled:i,fields:n._fields,name:t,value:c(n._fields,t)._f.value})},[i,t,n]),{field:{name:t,value:m,...G(i)||x.disabled?{disabled:x.disabled||i}:{},onChange:b.useCallback(F=>R.current.onChange({target:{value:_t(F),name:t},type:pe.CHANGE}),[t]),onBlur:b.useCallback(()=>R.current.onBlur({target:{value:c(n._formValues,t),name:t},type:pe.BLUR}),[t,n]),ref:b.useCallback(F=>{const h=c(n._fields,t);h&&F&&(h._f.ref={focus:()=>F.focus(),select:()=>F.select(),setCustomValidity:D=>F.setCustomValidity(D),reportValidity:()=>F.reportValidity()})},[n._fields,t])},formState:x,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(x.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(x.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(x.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(x.validatingFields,t)},error:{enumerable:!0,get:()=>c(x.errors,t)}})}}const Xt=e=>e.render(Qt(e));var Zt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},ae=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Le=(e,r,t={})=>t.shouldFocus||E(t.shouldFocus)?t.focusName||`${e}.${E(t.focusIndex)?r:t.focusIndex}.`:"",ve=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched}),He=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const u=c(e,n);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&r(f.refs[0],n)&&!i)return!0;if(f.ref&&r(f.ref,f.name)&&!i)return!0;if(ce(m,r))break}else if(N(m)&&ce(m,r))break}}};var pt=(e,r,t)=>{const i=W(c(e,t));return k(i,"root",r[t]),k(e,t,i),e},Je=e=>e.type==="file",te=e=>typeof e=="function",we=e=>{if(!Ye)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ve=e=>re(e),Qe=e=>e.type==="radio",Se=e=>e instanceof RegExp;const lt={value:!1,isValid:!1},ot={value:!0,isValid:!0};var wt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:lt}return lt};const ct={isValid:!1,value:null};var St=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ct):ct;function dt(e,r,t="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||G(e)&&!e)return{type:t,message:Ve(e)?e:"",ref:r}}var oe=e=>N(e)&&!Se(e)?e:{value:e,message:""},Ke=async(e,r,t,i,n)=>{const{ref:u,refs:f,required:m,maxLength:x,minLength:R,min:F,max:h,pattern:D,validate:q,name:L,valueAsNumber:de,mount:J,disabled:ee}=e._f,w=c(r,L);if(!J||ee)return{};const Q=f?f[0]:u,X=p=>{i&&Q.reportValidity&&(Q.setCustomValidity(G(p)?"":p||""),Q.reportValidity())},g={},_=Qe(u),V=be(u),C=_||V,H=(de||Je(u))&&E(u.value)&&E(w)||we(u)&&u.value===""||w===""||Array.isArray(w)&&!w.length,j=Zt.bind(null,L,t,g),Ae=(p,S,T,P=ie.maxLength,Z=ie.minLength)=>{const K=p?S:T;g[L]={type:p?P:Z,message:K,ref:u,...j(p?P:Z,K)}};if(n?!Array.isArray(w)||!w.length:m&&(!C&&(H||$(w))||G(w)&&!w||V&&!wt(f).isValid||_&&!St(f).isValid)){const{value:p,message:S}=Ve(m)?{value:!!m,message:m}:oe(m);if(p&&(g[L]={type:ie.required,message:S,ref:Q,...j(ie.required,S)},!t))return X(S),g}if(!H&&(!$(F)||!$(h))){let p,S;const T=oe(h),P=oe(F);if(!$(w)&&!isNaN(w)){const Z=u.valueAsNumber||w&&+w;$(T.value)||(p=Z>T.value),$(P.value)||(S=Z<P.value)}else{const Z=u.valueAsDate||new Date(w),K=ge=>new Date(new Date().toDateString()+" "+ge),fe=u.type=="time",ye=u.type=="week";re(T.value)&&w&&(p=fe?K(w)>K(T.value):ye?w>T.value:Z>new Date(T.value)),re(P.value)&&w&&(S=fe?K(w)<K(P.value):ye?w<P.value:Z<new Date(P.value))}if((p||S)&&(Ae(!!p,T.message,P.message,ie.max,ie.min),!t))return X(g[L].message),g}if((x||R)&&!H&&(re(w)||n&&Array.isArray(w))){const p=oe(x),S=oe(R),T=!$(p.value)&&w.length>+p.value,P=!$(S.value)&&w.length<+S.value;if((T||P)&&(Ae(T,p.message,S.message),!t))return X(g[L].message),g}if(D&&!H&&re(w)){const{value:p,message:S}=oe(D);if(Se(p)&&!w.match(p)&&(g[L]={type:ie.pattern,message:S,ref:u,...j(ie.pattern,S)},!t))return X(S),g}if(q){if(te(q)){const p=await q(w,r),S=dt(p,Q);if(S&&(g[L]={...S,...j(ie.validate,S.message)},!t))return X(S.message),g}else if(N(q)){let p={};for(const S in q){if(!B(p)&&!t)break;const T=dt(await q[S](w,r),Q,S);T&&(p={...T,...j(S,T.message)},X(T.message),t&&(g[L]=p))}if(!B(p)&&(g[L]={ref:Q,...p},!t))return g}}return X(!0),g},Te=(e,r)=>[...e,...W(r)],Oe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Me(e,r,t){return[...e.slice(0,r),...W(t),...e.slice(r)]}var Ue=(e,r,t)=>Array.isArray(e)?(E(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Pe=(e,r)=>[...W(r),...W(e)];function er(e,r){let t=0;const i=[...e];for(const n of r)i.splice(n-t,1),t++;return Fe(i).length?i:[]}var je=(e,r)=>E(r)?[]:er(e,W(r).sort((t,i)=>t-i)),Be=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]};function tr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=E(e)?i++:e[r[i++]];return e}function rr(e){for(const r in e)if(e.hasOwnProperty(r)&&!E(e[r]))return!1;return!0}function I(e,r){const t=Array.isArray(r)?r:ze(r)?[r]:ht(r),i=t.length===1?e:tr(e,t),n=t.length-1,u=t[n];return i&&delete i[u],n!==0&&(N(i)&&B(i)||Array.isArray(i)&&rr(i))&&I(e,t.slice(0,-1)),e}var ft=(e,r,t)=>(e[r]=t,e);function Ar(e){const r=xe(),{control:t=r.control,name:i,keyName:n="id",shouldUnregister:u}=e,[f,m]=b.useState(t._getFieldArray(i)),x=b.useRef(t._getFieldArray(i).map(ae)),R=b.useRef(f),F=b.useRef(i),h=b.useRef(!1);F.current=i,R.current=f,t._names.array.add(i),e.rules&&t.register(i,e.rules),ke({next:({values:g,name:_})=>{if(_===F.current||!_){const V=c(g,F.current);Array.isArray(V)&&(m(V),x.current=V.map(ae))}},subject:t._subjects.array});const D=b.useCallback(g=>{h.current=!0,t._updateFieldArray(i,g)},[t,i]),q=(g,_)=>{const V=W(O(g)),C=Te(t._getFieldArray(i),V);t._names.focus=Le(i,C.length-1,_),x.current=Te(x.current,V.map(ae)),D(C),m(C),t._updateFieldArray(i,C,Te,{argA:Oe(g)})},L=(g,_)=>{const V=W(O(g)),C=Pe(t._getFieldArray(i),V);t._names.focus=Le(i,0,_),x.current=Pe(x.current,V.map(ae)),D(C),m(C),t._updateFieldArray(i,C,Pe,{argA:Oe(g)})},de=g=>{const _=je(t._getFieldArray(i),g);x.current=je(x.current,g),D(_),m(_),t._updateFieldArray(i,_,je,{argA:g})},J=(g,_,V)=>{const C=W(O(_)),H=Me(t._getFieldArray(i),g,C);t._names.focus=Le(i,g,V),x.current=Me(x.current,g,C.map(ae)),D(H),m(H),t._updateFieldArray(i,H,Me,{argA:g,argB:Oe(_)})},ee=(g,_)=>{const V=t._getFieldArray(i);Be(V,g,_),Be(x.current,g,_),D(V),m(V),t._updateFieldArray(i,V,Be,{argA:g,argB:_},!1)},w=(g,_)=>{const V=t._getFieldArray(i);Ue(V,g,_),Ue(x.current,g,_),D(V),m(V),t._updateFieldArray(i,V,Ue,{argA:g,argB:_},!1)},Q=(g,_)=>{const V=O(_),C=ft(t._getFieldArray(i),g,V);x.current=[...C].map((H,j)=>!H||j===g?ae():x.current[j]),D(C),m([...C]),t._updateFieldArray(i,C,ft,{argA:g,argB:V},!0,!1)},X=g=>{const _=W(O(g));x.current=_.map(ae),D([..._]),m([..._]),t._updateFieldArray(i,[..._],V=>V,{},!0,!1)};return b.useEffect(()=>{if(t._state.action=!1,He(i,t._names)&&t._subjects.state.next({...t._formState}),h.current&&(!ve(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([i]).then(g=>{const _=c(g.errors,i),V=c(t._formState.errors,i);(V?!_&&V.type||_&&(V.type!==_.type||V.message!==_.message):_&&_.type)&&(_?k(t._formState.errors,i,_):I(t._formState.errors,i),t._subjects.state.next({errors:t._formState.errors}))});else{const g=c(t._fields,i);g&&g._f&&!(ve(t._options.reValidateMode).isOnSubmit&&ve(t._options.mode).isOnSubmit)&&Ke(g,t._formValues,t._options.criteriaMode===Y.all,t._options.shouldUseNativeValidation,!0).then(_=>!B(_)&&t._subjects.state.next({errors:pt(t._formState.errors,_,i)}))}t._subjects.values.next({name:i,values:{...t._formValues}}),t._names.focus&&ce(t._fields,(g,_)=>{if(t._names.focus&&_.startsWith(t._names.focus)&&g.focus)return g.focus(),1}),t._names.focus="",t._updateValid(),h.current=!1},[f,i,t]),b.useEffect(()=>(!c(t._formValues,i)&&t._updateFieldArray(i),()=>{(t._options.shouldUnregister||u)&&t.unregister(i)}),[i,t,n,u]),{swap:b.useCallback(ee,[D,i,t]),move:b.useCallback(w,[D,i,t]),prepend:b.useCallback(L,[D,i,t]),append:b.useCallback(q,[D,i,t]),remove:b.useCallback(de,[D,i,t]),insert:b.useCallback(J,[D,i,t]),update:b.useCallback(Q,[D,i,t]),replace:b.useCallback(X,[D,i,t]),fields:b.useMemo(()=>f.map((g,_)=>({...g,[n]:x.current[_]||ae()})),[f,n])}}var $e=()=>{let e=[];return{get observers(){return e},next:n=>{for(const u of e)u.next&&u.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(u=>u!==n)}}),unsubscribe:()=>{e=[]}}},Ge=e=>$(e)||!mt(e);function ne(e,r){if(Ge(e)||Ge(r))return e===r;if(le(e)&&le(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const u=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const f=r[n];if(le(u)&&le(f)||N(u)&&N(f)||Array.isArray(u)&&Array.isArray(f)?!ne(u,f):u!==f)return!1}}return!0}var Dt=e=>e.type==="select-multiple",sr=e=>Qe(e)||be(e),We=e=>we(e)&&e.isConnected,kt=e=>{for(const r in e)if(te(e[r]))return!0;return!1};function De(e,r={}){const t=Array.isArray(e);if(N(e)||t)for(const i in e)Array.isArray(e[i])||N(e[i])&&!kt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},De(e[i],r[i])):$(e[i])||(r[i]=!0);return r}function Et(e,r,t){const i=Array.isArray(e);if(N(e)||i)for(const n in e)Array.isArray(e[n])||N(e[n])&&!kt(e[n])?E(r)||Ge(t[n])?t[n]=Array.isArray(e[n])?De(e[n],[]):{...De(e[n])}:Et(e[n],$(r)?{}:r[n],t[n]):t[n]=!ne(e[n],r[n]);return t}var me=(e,r)=>Et(e,r,De(r)),Ct=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>E(e)?e:r?e===""?NaN:e&&+e:t&&re(e)?new Date(e):i?i(e):e;function qe(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Je(r)?r.files:Qe(r)?St(e.refs).value:Dt(r)?[...r.selectedOptions].map(({value:t})=>t):be(r)?wt(e.refs).value:Ct(E(r.value)?e.ref.value:r.value,e)}var ir=(e,r,t,i)=>{const n={};for(const u of e){const f=c(r,u);f&&k(n,u,f._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},_e=e=>E(e)?e:Se(e)?e.source:N(e)?Se(e.value)?e.value.source:e.value:e;const yt="AsyncFunction";var ar=e=>(!e||!e.validate)&&!!(te(e.validate)&&e.validate.constructor.name===yt||N(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===yt)),nr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gt(e,r,t){const i=c(e,t);if(i||ze(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const u=n.join("."),f=c(r,u),m=c(e,u);if(f&&!Array.isArray(f)&&t!==u)return{name:t};if(m&&m.type)return{name:u,error:m};n.pop()}return{name:t}}var ur=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,lr=(e,r)=>!Fe(c(e,r)).length&&I(e,r);const or={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function cr(e={}){let r={...or,...e},t={submitCount:0,isDirty:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=N(r.defaultValues)||N(r.values)?O(r.defaultValues||r.values)||{}:{},u=r.shouldUnregister?{}:O(n),f={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},x,R=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:$e(),array:$e(),state:$e()},D=ve(r.mode),q=ve(r.reValidateMode),L=r.criteriaMode===Y.all,de=s=>a=>{clearTimeout(R),R=setTimeout(s,a)},J=async s=>{if(!r.disabled&&(F.isValid||s)){const a=r.resolver?B((await C()).errors):await j(i,!0);a!==t.isValid&&h.state.next({isValid:a})}},ee=(s,a)=>{!r.disabled&&(F.isValidating||F.validatingFields)&&((s||Array.from(m.mount)).forEach(l=>{l&&(a?k(t.validatingFields,l,a):I(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},w=(s,a=[],l,y,d=!0,o=!0)=>{if(y&&l&&!r.disabled){if(f.action=!0,o&&Array.isArray(c(i,s))){const v=l(c(i,s),y.argA,y.argB);d&&k(i,s,v)}if(o&&Array.isArray(c(t.errors,s))){const v=l(c(t.errors,s),y.argA,y.argB);d&&k(t.errors,s,v),lr(t.errors,s)}if(F.touchedFields&&o&&Array.isArray(c(t.touchedFields,s))){const v=l(c(t.touchedFields,s),y.argA,y.argB);d&&k(t.touchedFields,s,v)}F.dirtyFields&&(t.dirtyFields=me(n,u)),h.state.next({name:s,isDirty:p(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else k(u,s,a)},Q=(s,a)=>{k(t.errors,s,a),h.state.next({errors:t.errors})},X=s=>{t.errors=s,h.state.next({errors:t.errors,isValid:!1})},g=(s,a,l,y)=>{const d=c(i,s);if(d){const o=c(u,s,E(l)?c(n,s):l);E(o)||y&&y.defaultChecked||a?k(u,s,a?o:qe(d._f)):P(s,o),f.mount&&J()}},_=(s,a,l,y,d)=>{let o=!1,v=!1;const A={name:s};if(!r.disabled){const M=!!(c(i,s)&&c(i,s)._f&&c(i,s)._f.disabled);if(!l||y){F.isDirty&&(v=t.isDirty,t.isDirty=A.isDirty=p(),o=v!==A.isDirty);const U=M||ne(c(n,s),a);v=!!(!M&&c(t.dirtyFields,s)),U||M?I(t.dirtyFields,s):k(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,o=o||F.dirtyFields&&v!==!U}if(l){const U=c(t.touchedFields,s);U||(k(t.touchedFields,s,l),A.touchedFields=t.touchedFields,o=o||F.touchedFields&&U!==l)}o&&d&&h.state.next(A)}return o?A:{}},V=(s,a,l,y)=>{const d=c(t.errors,s),o=F.isValid&&G(a)&&t.isValid!==a;if(e.delayError&&l?(x=de(()=>Q(s,l)),x(e.delayError)):(clearTimeout(R),x=null,l?k(t.errors,s,l):I(t.errors,s)),(l?!ne(d,l):d)||!B(y)||o){const v={...y,...o&&G(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...v},h.state.next(v)}},C=async s=>{ee(s,!0);const a=await r.resolver(u,r.context,ir(s||m.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return ee(s),a},H=async s=>{const{errors:a}=await C(s);if(s)for(const l of s){const y=c(a,l);y?k(t.errors,l,y):I(t.errors,l)}else t.errors=a;return a},j=async(s,a,l={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:o,...v}=d;if(o){const A=m.array.has(o.name),M=d._f&&ar(d._f);M&&F.validatingFields&&ee([y],!0);const U=await Ke(d,u,L,r.shouldUseNativeValidation&&!a,A);if(M&&F.validatingFields&&ee([y]),U[o.name]&&(l.valid=!1,a))break;!a&&(c(U,o.name)?A?pt(t.errors,U,o.name):k(t.errors,o.name,U[o.name]):I(t.errors,o.name))}!B(v)&&await j(v,a,l)}}return l.valid},Ae=()=>{for(const s of m.unMount){const a=c(i,s);a&&(a._f.refs?a._f.refs.every(l=>!We(l)):!We(a._f.ref))&&Ce(s)}m.unMount=new Set},p=(s,a)=>!r.disabled&&(s&&a&&k(u,s,a),!ne(Xe(),n)),S=(s,a,l)=>Vt(s,m,{...f.mount?u:E(a)?n:re(s)?{[s]:a}:a},l,a),T=s=>Fe(c(f.mount?u:n,s,e.shouldUnregister?c(n,s,[]):[])),P=(s,a,l={})=>{const y=c(i,s);let d=a;if(y){const o=y._f;o&&(!o.disabled&&k(u,s,Ct(a,o)),d=we(o.ref)&&$(a)?"":a,Dt(o.ref)?[...o.ref.options].forEach(v=>v.selected=d.includes(v.value)):o.refs?be(o.ref)?o.refs.length>1?o.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(d)?!!d.find(A=>A===v.value):d===v.value)):o.refs[0]&&(o.refs[0].checked=!!d):o.refs.forEach(v=>v.checked=v.value===d):Je(o.ref)?o.ref.value="":(o.ref.value=d,o.ref.type||h.values.next({name:s,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&_(s,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(s)},Z=(s,a,l)=>{for(const y in a){const d=a[y],o=`${s}.${y}`,v=c(i,o);(m.array.has(s)||N(d)||v&&!v._f)&&!le(d)?Z(o,d,l):P(o,d,l)}},K=(s,a,l={})=>{const y=c(i,s),d=m.array.has(s),o=O(a);k(u,s,o),d?(h.array.next({name:s,values:{...u}}),(F.isDirty||F.dirtyFields)&&l.shouldDirty&&h.state.next({name:s,dirtyFields:me(n,u),isDirty:p(s,o)})):y&&!y._f&&!$(o)?Z(s,o,l):P(s,o,l),He(s,m)&&h.state.next({...t}),h.values.next({name:f.mount?s:void 0,values:{...u}})},fe=async s=>{f.mount=!0;const a=s.target;let l=a.name,y=!0;const d=c(i,l),o=()=>a.type?qe(d._f):_t(s),v=A=>{y=Number.isNaN(A)||le(A)&&isNaN(A.getTime())||ne(A,c(u,l,A))};if(d){let A,M;const U=o(),ue=s.type===pe.BLUR||s.type===pe.FOCUS_OUT,jt=!nr(d._f)&&!r.resolver&&!c(t.errors,l)&&!d._f.deps||ur(ue,c(t.touchedFields,l),t.isSubmitted,q,D),Ne=He(l,m,ue);k(u,l,U),ue?(d._f.onBlur&&d._f.onBlur(s),x&&x(0)):d._f.onChange&&d._f.onChange(s);const Ie=_(l,U,ue,!1),Bt=!B(Ie)||Ne;if(!ue&&h.values.next({name:l,type:s.type,values:{...u}}),jt)return F.isValid&&(e.mode==="onBlur"?ue&&J():J()),Bt&&h.state.next({name:l,...Ne?{}:Ie});if(!ue&&Ne&&h.state.next({...t}),r.resolver){const{errors:nt}=await C([l]);if(v(U),y){const $t=gt(t.errors,i,l),ut=gt(nt,i,$t.name||l);A=ut.error,l=ut.name,M=B(nt)}}else ee([l],!0),A=(await Ke(d,u,L,r.shouldUseNativeValidation))[l],ee([l]),v(U),y&&(A?M=!1:F.isValid&&(M=await j(i,!0)));y&&(d._f.deps&&ge(d._f.deps),V(l,M,A,Ie))}},ye=(s,a)=>{if(c(t.errors,a)&&s.focus)return s.focus(),1},ge=async(s,a={})=>{let l,y;const d=W(s);if(r.resolver){const o=await H(E(s)?s:d);l=B(o),y=s?!d.some(v=>c(o,v)):l}else s?(y=(await Promise.all(d.map(async o=>{const v=c(i,o);return await j(v&&v._f?{[o]:v}:v)}))).every(Boolean),!(!y&&!t.isValid)&&J()):y=l=await j(i);return h.state.next({...!re(s)||F.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!y&&ce(i,ye,s?d:m.mount),y},Xe=s=>{const a={...f.mount?u:n};return E(s)?a:re(s)?c(a,s):s.map(l=>c(a,l))},Ze=(s,a)=>({invalid:!!c((a||t).errors,s),isDirty:!!c((a||t).dirtyFields,s),error:c((a||t).errors,s),isValidating:!!c(t.validatingFields,s),isTouched:!!c((a||t).touchedFields,s)}),Ot=s=>{s&&W(s).forEach(a=>I(t.errors,a)),h.state.next({errors:s?t.errors:{}})},et=(s,a,l)=>{const y=(c(i,s,{_f:{}})._f||{}).ref,d=c(t.errors,s)||{},{ref:o,message:v,type:A,...M}=d;k(t.errors,s,{...M,...a,ref:y}),h.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Mt=(s,a)=>te(s)?h.values.subscribe({next:l=>s(S(void 0,a),l)}):S(s,a,!0),Ce=(s,a={})=>{for(const l of s?W(s):m.mount)m.mount.delete(l),m.array.delete(l),a.keepValue||(I(i,l),I(u,l)),!a.keepError&&I(t.errors,l),!a.keepDirty&&I(t.dirtyFields,l),!a.keepTouched&&I(t.touchedFields,l),!a.keepIsValidating&&I(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&I(n,l);h.values.next({values:{...u}}),h.state.next({...t,...a.keepDirty?{isDirty:p()}:{}}),!a.keepIsValid&&J()},tt=({disabled:s,name:a,field:l,fields:y,value:d})=>{if(G(s)&&f.mount||s){const o=s?void 0:E(d)?qe(l?l._f:c(y,a)._f):d;k(u,a,o),_(a,o,!1,!1,!0)}},Re=(s,a={})=>{let l=c(i,s);const y=G(a.disabled)||G(r.disabled);return k(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),m.mount.add(s),l?tt({field:l,disabled:G(a.disabled)?a.disabled:r.disabled,name:s,value:a.value}):g(s,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:_e(a.min),max:_e(a.max),minLength:_e(a.minLength),maxLength:_e(a.maxLength),pattern:_e(a.pattern)}:{},name:s,onChange:fe,onBlur:fe,ref:d=>{if(d){Re(s,a),l=c(i,s);const o=E(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,v=sr(o),A=l._f.refs||[];if(v?A.find(M=>M===o):o===l._f.ref)return;k(i,s,{_f:{...l._f,...v?{refs:[...A.filter(We),o,...Array.isArray(c(n,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),g(s,!1,void 0,o)}else l=c(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(vt(m.array,s)&&f.action)&&m.unMount.add(s)}}},rt=()=>r.shouldFocusError&&ce(i,ye,m.mount),Ut=s=>{G(s)&&(h.state.next({disabled:s}),ce(i,(a,l)=>{const y=c(i,l);y&&(a.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||s}))},0,!1))},st=(s,a)=>async l=>{let y;if(l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist()),r.disabled){a&&await a({...t.errors},l);return}let d=O(u);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:v}=await C();t.errors=o,d=v}else await j(i);if(I(t.errors,"root"),B(t.errors)){h.state.next({errors:{}});try{await s(d,l)}catch(o){y=o}}else a&&await a({...t.errors},l),rt(),setTimeout(rt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Pt=(s,a={})=>{c(i,s)&&(E(a.defaultValue)?K(s,O(c(n,s))):(K(s,a.defaultValue),k(n,s,O(a.defaultValue))),a.keepTouched||I(t.touchedFields,s),a.keepDirty||(I(t.dirtyFields,s),t.isDirty=a.defaultValue?p(s,O(c(n,s))):p()),a.keepError||(I(t.errors,s),F.isValid&&J()),h.state.next({...t}))},it=(s,a={})=>{const l=s?O(s):n,y=O(l),d=B(s),o=d?n:y;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const v=new Set([...m.mount,...Object.keys(me(n,u))]);for(const A of Array.from(v))c(t.dirtyFields,A)?k(o,A,c(u,A)):K(A,c(o,A))}else{if(Ye&&E(s))for(const v of m.mount){const A=c(i,v);if(A&&A._f){const M=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(we(M)){const U=M.closest("form");if(U){U.reset();break}}}}i={}}u=e.shouldUnregister?a.keepDefaultValues?O(n):{}:O(o),h.array.next({values:{...o}}),h.values.next({values:{...o}})}m={mount:a.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!F.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!e.shouldUnregister,h.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&u?me(n,u):t.dirtyFields:a.keepDefaultValues&&s?me(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},at=(s,a)=>it(te(s)?s(u):s,a);return{control:{register:Re,unregister:Ce,getFieldState:Ze,handleSubmit:st,setError:et,_executeSchema:C,_getWatch:S,_getDirty:p,_updateValid:J,_removeUnmounted:Ae,_updateFieldArray:w,_updateDisabledField:tt,_getFieldArray:T,_reset:it,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(s=>{at(s,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Ut,_subjects:h,_proxyFormState:F,_setErrors:X,get _fields(){return i},get _formValues(){return u},get _state(){return f},set _state(s){f=s},get _defaultValues(){return n},get _names(){return m},set _names(s){m=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:ge,register:Re,handleSubmit:st,watch:Mt,setValue:K,getValues:Xe,reset:at,resetField:Pt,clearErrors:Ot,unregister:Ce,setError:et,setFocus:(s,a={})=>{const l=c(i,s),y=l&&l._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),a.shouldSelect&&te(d.select)&&d.select())}},getFieldState:Ze}}function Vr(e={}){const r=b.useRef(),t=b.useRef(),[i,n]=b.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...cr(e),formState:i});const u=r.current.control;return u._options=e,ke({subject:u._subjects.state,next:f=>{xt(f,u._proxyFormState,u._updateFormState,!0)&&n({...u._formState})}}),b.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),b.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==i.isDirty&&u._subjects.state.next({isDirty:f})}},[u,i.isDirty]),b.useEffect(()=>{e.values&&!ne(e.values,t.current)?(u._reset(e.values,u._options.resetOptions),t.current=e.values,n(f=>({...f}))):u._resetDefaultValues()},[e.values,u]),b.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),b.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),b.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),r.current.formState=Ft(i,u),r.current}var dr="Label",Rt=z.forwardRef((e,r)=>se.jsx(Wt.label,{...e,ref:r,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Rt.displayName=dr;var Nt=Rt;const fr=qt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),It=z.forwardRef(({className:e,...r},t)=>se.jsx(Nt,{ref:t,className:he(fr(),e),...r}));It.displayName=Nt.displayName;const pr=Yt,Lt=z.createContext({}),wr=({...e})=>se.jsx(Lt.Provider,{value:{name:e.name},children:se.jsx(Xt,{...e})}),Ee=()=>{const e=z.useContext(Lt),r=z.useContext(Tt),{getFieldState:t,formState:i}=xe(),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:u}=r;return{id:u,name:e.name,formItemId:`${u}-form-item`,formDescriptionId:`${u}-form-item-description`,formMessageId:`${u}-form-item-message`,...n}},Tt=z.createContext({}),yr=z.forwardRef(({className:e,...r},t)=>{const i=z.useId();return se.jsx(Tt.Provider,{value:{id:i},children:se.jsx("div",{ref:t,className:he("space-y-2",e),...r})})});yr.displayName="FormItem";const gr=z.forwardRef(({className:e,...r},t)=>{const{error:i,formItemId:n}=Ee();return se.jsx(It,{ref:t,className:he(i&&"text-destructive",e),htmlFor:n,...r})});gr.displayName="FormLabel";const mr=z.forwardRef(({...e},r)=>{const{error:t,formItemId:i,formDescriptionId:n,formMessageId:u}=Ee();return se.jsx(Ht,{ref:r,id:i,"aria-describedby":t?`${n} ${u}`:`${n}`,"aria-invalid":!!t,...e})});mr.displayName="FormControl";const _r=z.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:i}=Ee();return se.jsx("p",{ref:t,id:i,className:he("text-[0.8rem] text-muted-foreground",e),...r})});_r.displayName="FormDescription";const vr=z.forwardRef(({className:e,children:r,...t},i)=>{const{error:n,formMessageId:u}=Ee(),f=n?String(n==null?void 0:n.message):r;return f?se.jsx("p",{ref:i,id:u,className:he("text-[0.8rem] font-medium text-destructive",e),...t,children:f}):null});vr.displayName="FormMessage";export{pr as F,wr as a,yr as b,gr as c,mr as d,vr as e,Zt as f,c as g,_r as h,Ar as i,k as s,Vr as u};
