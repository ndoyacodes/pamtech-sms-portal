import{f as A,j as e,B as E}from"./index-d9TgJTTy.js";import{z as r}from"./index-C3hmKdn7.js";import{t as V}from"./zod-CLsu2KRF.js";import{u as L}from"./index.esm-B6ab4Cq_.js";import{F as U,a as l,b as t,c as o,d as n,e as c}from"./form-DxQsSBla.js";import{S as p,a as u,b as g,c as f,d as h}from"./select-cMMktxW9.js";import{I as m}from"./input-DpwfBUf3.js";import{P as v}from"./password-input-kC31DzPx.js";import{L as N}from"./use-auth-store-CiawQdvf.js";import{S as z,T as k,U as B}from"./user-nav-1-09pvFT.js";import{u as O}from"./customer-hook-91Ge935x.js";import{U as b}from"./user-B16-2BYC.js";import{M as R,S as w,B as M}from"./shield-CBQCwFWc.js";import{P as G}from"./phone-DmpvV6rf.js";import{G as P}from"./globe-8DnZdi9k.js";import{I as Y}from"./IconUserPlus-DYgjrEXF.js";import"./label-BkzUlrRU.js";import"./index-Chc_HW3c.js";import"./index-CD610jSn.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-W6PM2pC6.js";import"./index-BCvMni3w.js";import"./IconEye-DtzBgD97.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./instance-BGpPafi2.js";import"./useMutation-scFYzLXQ.js";import"./createLucideIcon-BDxxsDtu.js";const H=r.enum(["POSTPAID","PREPAID"]),J=r.object({email:r.string().min(1,{message:"Please enter email"}).email({message:"Invalid email format"}),firstName:r.string().min(1,{message:"Please enter first name"}),lastName:r.string().min(1,{message:"Please enter last name"}),timezone:r.string().min(1,{message:"Please select Time zone"}),status:r.boolean(),language:r.string().min(1,{message:"Please select language"}),companyName:r.string().min(1,{message:"Please enter company name"}),website:r.string().url({message:"Invalid website URL"}).optional(),kycFile:r.any(),customerType:H,countryCode:r.string().min(1,{message:"Please select country code"}),phoneNumber:r.string().min(1,{message:"Please enter phone number"}),password:r.string().min(1,{message:"Please enter your password"}).min(7,{message:"Password must be at least 7 characters long"}),confirmPassword:r.string().min(1,{message:"Please confirm your password"})}).refine(x=>x.password===x.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),be=()=>{var y;const x=A(),i=(y=x==null?void 0:x.state)==null?void 0:y.record,{updateCustomer:C,createCustomer:S}=O(),F=Intl==null?void 0:Intl.supportedValuesOf("timeZone"),a=L({resolver:V(J),defaultValues:i||{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",timezone:"",language:"",companyName:"",website:"",customerType:"POSTPAID",countryCode:"",phoneNumber:"",status:!0,kycFile:null}});function I(s){const d={...s,website:s.website||""},j=new FormData;Object.entries({...d}).forEach(([T,D])=>{j.append(T,D)}),i?C.mutate({id:i==null?void 0:i.id,data:j}):S.mutate({data:j})}return e.jsxs(N,{children:[e.jsxs(N.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(z,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(k,{}),e.jsx(B,{})]})]}),e.jsxs(N.Body,{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:i?"Edit Customer":"Add Customer"}),e.jsx("p",{className:"text-muted-foreground",children:i?"Update the customer details below":"Fill in the form below to add a new customer"})]})}),e.jsx(U,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(I),children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{control:a.control,name:"firstName",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"First Name"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"John",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"lastName",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Last Name"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"Doe",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"email",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Email"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"your@email.com",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"phoneNumber",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Phone Number"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"(255) 000-0000",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"countryCode",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Country Code"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"+1",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"language",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Language"}),e.jsxs(p,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(n,{children:e.jsx(u,{children:e.jsx(g,{placeholder:"Select language"})})}),e.jsxs(f,{children:[e.jsx(h,{value:"en",children:"English"}),e.jsx(h,{value:"es",children:"Spanish"}),e.jsx(h,{value:"fr",children:"French"})]})]}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"kycFile",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"KYC Document"}),e.jsx(n,{children:e.jsx("div",{className:"relative",children:e.jsx(m,{type:"file",className:"pl-9",accept:"application/pdf",onChange:d=>{var j;return s.onChange((j=d.target.files)==null?void 0:j[0])}})})}),e.jsx(c,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{control:a.control,name:"password",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Password"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(v,{className:"pl-9",placeholder:"********",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"confirmPassword",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Confirm Password"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(v,{className:"pl-9",placeholder:"********",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"companyName",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Company Name"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"Your Company Ltd.",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"website",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Website"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(m,{className:"pl-9",placeholder:"https://example.com",...s})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"customerType",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Account Type"}),e.jsxs(p,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(n,{children:e.jsx(u,{children:e.jsx(g,{placeholder:"Select account type"})})}),e.jsxs(f,{children:[e.jsx(h,{value:"POSTPAID",children:"Postpaid"}),e.jsx(h,{value:"PREPAID",children:"Prepaid"})]})]}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"timezone",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Timezone"}),e.jsxs(p,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(n,{children:e.jsx(u,{children:e.jsx(g,{placeholder:"Select timezone"})})}),e.jsx(f,{children:F.map(d=>e.jsx(h,{value:d,children:d},d))})]}),e.jsx(c,{})]})})]})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6 md:grid-cols-2",children:e.jsxs(E,{type:"submit",className:"",children:[i?"Update Customer":"Add Customer",e.jsx(Y,{className:"ml-2 h-4 w-4"})]})})]})})]})]})};export{be as default};
