import{u as e,l as s,r as a,j as i,B as t}from"./index-DgsANLC3.js";import{u as r,S as l,T as d,U as c}from"./user-nav-BjY9odv6.js";import{L as m}from"./use-auth-store-DlB6JPqf.js";import{C as n,a as x,b as o,c as j}from"./card-Cxkzk52A.js";import{B as p}from"./badge-DkFHinrL.js";import{t as h}from"./template.service-B_nG4bwh.js";import{D as u}from"./delete-C1XC-tCI.js";import{C as v}from"./circle-alert-CdSH3Dv5.js";import{T as N}from"./tag-CAXEbIVJ.js";import{M as f}from"./message-square-D4jXgav9.js";import{C as g}from"./calendar-C0l8uDaX.js";import{B as y}from"./building-BtDL_AIe.js";import"./input-BaSBk-Gd.js";import"./index-8bOQzAwE.js";import"./index-D_xSc7Or.js";import"./instance-SAW19xTi.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./dialog-Cxh4_yU0.js";import"./useMutation-Bxa_RUaj.js";import"./senderid.services-ChtNoxr4.js";import"./createLucideIcon-DHucisN1.js";const w=()=>{const{id:w}=e(),b=s(),[C,T]=a.useState(!1),{data:B,isLoading:A,error:k}=r({queryKey:["template",w],queryFn:async()=>await h.getTemplateById(w)});return A?i.jsx(m,{children:i.jsx(m.Body,{children:i.jsx("div",{className:"mx-auto max-w-6xl p-6",children:i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})})})})}):k?i.jsx(m,{children:i.jsx(m.Body,{children:i.jsx(n,{className:"mx-auto max-w-6xl p-6",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-destructive",children:[i.jsx(v,{size:20}),i.jsx("p",{children:"Error loading template details"})]})})})}):i.jsxs(m,{children:[i.jsxs(m.Header,{sticky:!0,className:"mt-4 sm:mt-4 md:mt-0 lg:mt-0",children:[i.jsx(l,{}),i.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[i.jsx(d,{}),i.jsx(c,{})]})]}),i.jsxs(m.Body,{children:[i.jsxs("div",{className:"max-w-6xl space-y-6 p-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:null==B?void 0:B.name}),i.jsx(p,{variant:(null==B?void 0:B.active)?"default":"secondary",children:(null==B?void 0:B.active)?"Active":"Inactive"})]})}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[i.jsxs(n,{children:[i.jsx(x,{children:i.jsxs(o,{className:"flex items-center gap-2",children:[i.jsx(N,{className:"h-5 w-5"}),"Template Information"]})}),i.jsx(j,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Message Type"}),i.jsx(p,{variant:"outline",children:null==B?void 0:B.messageType})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Created At"}),i.jsx("p",{className:"text-sm",children:null==B?void 0:B.createdAt})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),i.jsx("p",{className:"text-sm",children:null==B?void 0:B.updatedAt})]})]})})]}),i.jsxs(n,{children:[i.jsx(x,{children:i.jsxs(o,{className:"flex items-center gap-2",children:[i.jsx(f,{className:"h-5 w-5"}),"Message Preview"]})}),i.jsx(j,{children:i.jsx("p",{className:"whitespace-pre-wrap rounded-lg border p-4",children:null==B?void 0:B.message})})]}),i.jsxs(n,{children:[i.jsx(x,{children:i.jsxs(o,{className:"flex items-center gap-2",children:[i.jsx(g,{className:"h-5 w-5"}),"Activity Timeline"]})}),i.jsx(j,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Created"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:null==B?void 0:B.createdAt})]})}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Last Updated"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:null==B?void 0:B.updatedAt})]})})]})})]}),i.jsxs(n,{children:[i.jsx(x,{children:i.jsxs(o,{className:"flex items-center gap-2",children:[i.jsx(y,{className:"h-5 w-5"}),"Customer Information"]})}),i.jsx(j,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Name"}),i.jsx("p",{className:"text-sm",children:null==B?void 0:B.customer.companyName})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),i.jsxs("p",{className:"text-sm",children:[null==B?void 0:B.customer.firstName," ",null==B?void 0:B.customer.lastName]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Type"}),i.jsx(p,{variant:"outline",children:null==B?void 0:B.customer.customerType})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"SMS Balance"}),i.jsx("p",{className:"text-sm",children:null==B?void 0:B.customer.smsBalance})]})]})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx(t,{variant:"outline",onClick:()=>b("/templates/add",{state:{record:B}}),children:"Edit Template"}),i.jsx(t,{variant:"destructive",onClick:()=>T(!0),children:"Delete Template"})]})]}),C&&i.jsx(u,{id:null==B?void 0:B.id,name:null==B?void 0:B.name,onClose:()=>T(!1)})]})]})};export{w as TemplateView,w as default};
