import{l as y,k as m,y as t}from"./index-d9TgJTTy.js";import{u}from"./useMutation-scFYzLXQ.js";import{p as o}from"./plan.service-DETDn82p.js";const f=()=>{const c=y(),l=m(),i=u({mutationFn:({data:e})=>o.createPlan(e),onSuccess:()=>{c.invalidateQueries({queryKey:["plans"]}),l("/plans"),t.success("Plan created successfully")},onError:e=>{var s,a;const n=((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to create plan";t.error(n)}}),p=u({mutationFn:({data:e})=>o.createPlanSUbscription(e),onSuccess:()=>{c.invalidateQueries({queryKey:["plans","dashboard"]}),l("/subscriptions"),t.success("Plan subscription created successfully")},onError:e=>{var s,a;const n=((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to create plan subscription, try again";t.error(n)}}),r=u({mutationFn:({id:e,data:n})=>o.updatePlan(e,n),onSuccess:()=>{c.invalidateQueries({queryKey:["plans"]}),l("/plans"),t.success("Plan updated successfully")},onError:e=>{var s,a;const n=((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to update plan";t.error(n)}}),d=u({mutationFn:e=>o.deletePlan(e),onSuccess:()=>{c.invalidateQueries({queryKey:["plans"]}),l("/plans"),t.success("Plan deleted successfully")},onError:e=>{var s,a;const n=((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to delete plan";t.error(n)}});return{createPlan:i,updatePlan:r,deletePlan:d,createSubscriptionPlan:p}};export{f as u};
