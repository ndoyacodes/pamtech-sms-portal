import{l as y,k as F,y as j,j as s,B as b}from"./index-d9TgJTTy.js";import{u as S}from"./index.esm-B6ab4Cq_.js";import{z as o}from"./index-C3hmKdn7.js";import{t as E}from"./zod-CLsu2KRF.js";import{F as U,a as m,b as l,c,d,e as u}from"./form-DxQsSBla.js";import{I as x}from"./input-DpwfBUf3.js";import{L as f}from"./use-auth-store-CiawQdvf.js";import{S as v,T as w,U as C}from"./user-nav-1-09pvFT.js";import{u as N}from"./useMutation-scFYzLXQ.js";import{u as g}from"./users.service-DRPy6hSM.js";import"./label-BkzUlrRU.js";import"./index-Chc_HW3c.js";import"./index-CD610jSn.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./instance-BGpPafi2.js";const P=()=>{const a=y(),t=F(),p=N({mutationFn:({data:r})=>g.createUser(r),onSuccess:()=>{a.invalidateQueries({queryKey:["users"]}),t("/users"),j.success("User created successfully")},onError:r=>{var n,i;const h=((i=(n=r==null?void 0:r.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to create user";j.error(h)}}),e=N({mutationFn:({id:r})=>g.updateStatus(r),onSuccess:()=>{a.invalidateQueries({queryKey:["users"]}),t("/users"),j.success("User status updated successfully")},onError:r=>{var n,i;const h=((i=(n=r==null?void 0:r.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to update user";j.error(h)}});return{createUser:p,updateUserStatus:e}},L=o.object({firstName:o.string(),lastName:o.string(),email:o.string(),phone:o.string(),password:o.string()}),Y=()=>{const{createUser:a}=P(),t=S({resolver:E(L),defaultValues:{firstName:"",lastName:"",email:"",phone:"",password:""}}),p=e=>{console.log("Submitted Data:",e),a.mutate({data:{...e}})};return s.jsxs(f,{children:[s.jsxs(f.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[s.jsx(v,{}),s.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[s.jsx(w,{}),s.jsx(C,{})]})]}),s.jsx(f.Body,{children:s.jsxs("div",{className:"mx-auto max-w-2xl rounded-md p-8 shadow-md",children:[s.jsx("h2",{className:"mb-6 text-2xl font-semibold",children:"Create User"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Create new user."}),s.jsx(U,{...t,children:s.jsxs("form",{onSubmit:t.handleSubmit(p),className:"space-y-6",children:[s.jsx(m,{control:t.control,name:"firstName",render:({field:e})=>s.jsxs(l,{children:[s.jsx(c,{children:"First Name"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter First Name",...e})}),s.jsx(u,{})]})}),s.jsx(m,{control:t.control,name:"lastName",render:({field:e})=>s.jsxs(l,{children:[s.jsx(c,{children:"Last Name"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter Last Name",...e})}),s.jsx(u,{})]})}),s.jsx(m,{control:t.control,name:"email",render:({field:e})=>s.jsxs(l,{children:[s.jsx(c,{children:"Email Address"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter Email Address",...e,type:"email"})}),s.jsx(u,{})]})}),s.jsx(m,{control:t.control,name:"phone",render:({field:e})=>s.jsxs(l,{children:[s.jsx(c,{children:"Phone Number"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter Phone Number",...e})}),s.jsx(u,{})]})}),s.jsx(m,{control:t.control,name:"password",render:({field:e})=>s.jsxs(l,{children:[s.jsx(c,{children:"Password"}),s.jsx(d,{children:s.jsx(x,{placeholder:"Enter Password",...e,type:"password"})}),s.jsx(u,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(b,{type:"submit",loading:a.isPending,disabled:a.isPending,children:"Create"})})]})})]})})]})};export{Y as AddEditUser,Y as default};
