import{r as s,j as e,B as r}from"./index-DgsANLC3.js";import{u as a}from"./index.esm-3KLEzfMo.js";import{t as i}from"./zod-8yhIYjTx.js";import{z as t}from"./index-B0zZW6rS.js";import{C as n,a as d,b as l,c as m}from"./card-Cxkzk52A.js";import{I as c}from"./input-BaSBk-Gd.js";import{u as o,L as x}from"./use-auth-store-DlB6JPqf.js";import{S as j,T as h,U as u}from"./user-nav-BjY9odv6.js";import{F as p,a as f,b as w,c as N,d as g,e as b}from"./form-CU8rwvsz.js";import{u as P}from"./useAuth-B71qKawx.js";import{U as v}from"./user-DO7yJkip.js";import{c as y}from"./createLucideIcon-DHucisN1.js";import"./index-8bOQzAwE.js";import"./index-D_xSc7Or.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./instance-SAW19xTi.js";import"./label-BTdkY-TR.js";import"./useMutation-Bxa_RUaj.js";
/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=y("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),k=y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),S=t.object({firstName:t.string().min(2,"First name is required"),lastName:t.string().min(2,"Last name is required"),email:t.string().email("Invalid email address"),phone:t.string().min(10,"Phone number must be at least 10 digits"),username:t.string().email("Invalid username format")}),I=t.object({currentPassword:t.string().min(6,"Password must be at least 6 characters"),newPassword:t.string().min(6,"Password must be at least 6 characters"),confirmPassword:t.string()}).refine((s=>s.newPassword===s.confirmPassword),{message:"Passwords don't match",path:["confirmPassword"]}),L=()=>{const[t,y]=s.useState(!1),[L,z]=s.useState(""),{user:q}=o(),{resetPassword:F}=P(),U=a({resolver:i(S),defaultValues:{firstName:(null==q?void 0:q.firstName)||"",lastName:(null==q?void 0:q.lastName)||"",email:(null==q?void 0:q.email)||"",phone:(null==q?void 0:q.phone)||"",username:(null==q?void 0:q.username)||""}}),{register:A,handleSubmit:B,formState:{errors:E},reset:M}=a({resolver:i(I)});return e.jsxs(x,{children:[e.jsxs(x.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(j,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(h,{}),e.jsx(u,{})]})]}),e.jsx(x.Body,{children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:" p-4 space-y-8",children:[e.jsxs(n,{children:[e.jsx(d,{className:"border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(l,{className:"text-xl flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5"}),"Profile Information"]}),t?e.jsxs("div",{className:"space-x-2",children:[e.jsx(r,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(r,{onClick:U.handleSubmit((async s=>{try{y(!1)}catch(e){}})),children:"Save Changes"})]}):e.jsx(r,{variant:"outline",onClick:()=>y(!0),children:"Edit Profile"})]})}),e.jsx(m,{className:"pt-6",children:e.jsx(p,{...U,children:e.jsx("form",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(f,{control:U.control,name:"firstName",render:({field:s})=>e.jsxs(w,{children:[e.jsx(N,{children:"First Name"}),e.jsx(g,{children:e.jsx(c,{...s,disabled:!t})}),e.jsx(b,{})]})}),e.jsx(f,{control:U.control,name:"lastName",render:({field:s})=>e.jsxs(w,{children:[e.jsx(N,{children:"Last Name"}),e.jsx(g,{children:e.jsx(c,{...s,disabled:!t})}),e.jsx(b,{})]})}),e.jsx(f,{control:U.control,name:"email",render:({field:s})=>e.jsxs(w,{children:[e.jsx(N,{children:"Email"}),e.jsx(g,{children:e.jsx(c,{...s,type:"email",disabled:!t})}),e.jsx(b,{})]})}),e.jsx(f,{control:U.control,name:"phone",render:({field:s})=>e.jsxs(w,{children:[e.jsx(N,{children:"Phone Number"}),e.jsx(g,{children:e.jsx(c,{...s,disabled:!t})}),e.jsx(b,{})]})}),e.jsx(f,{control:U.control,name:"username",render:({field:s})=>e.jsxs(w,{children:[e.jsx(N,{children:"Username"}),e.jsx(g,{children:e.jsx(c,{...s,disabled:!t})}),e.jsx(b,{})]})})]})})})})]}),e.jsxs(n,{children:[e.jsx(d,{className:"border-b",children:e.jsxs(l,{className:"text-xl flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),"Change Password"]})}),e.jsx(m,{className:"pt-6",children:e.jsxs("form",{onSubmit:B((async s=>{F.mutateAsync(s),M(),z("Password changed failed")})),className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Password"}),e.jsx(c,{type:"password",...A("currentPassword"),className:"mt-1"}),E.currentPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.currentPassword.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Password"}),e.jsx(c,{type:"password",...A("newPassword"),className:"mt-1"}),E.newPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.newPassword.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Confirm Password"}),e.jsx(c,{type:"password",...A("confirmPassword"),className:"mt-1"}),E.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.confirmPassword.message})]})]}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(r,{type:"submit",className:"w-full md:w-auto",loading:null==F?void 0:F.isPending,children:"Change Password"})})]})})]})]}),L&&e.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5"}),L]})]})})]})};
/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{L as default};
