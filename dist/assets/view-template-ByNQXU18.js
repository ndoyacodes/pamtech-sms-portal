import{u,k as p,r as N,j as s,B as m}from"./index-d9TgJTTy.js";import{u as f,S as v,T as g,U as y}from"./user-nav-1-09pvFT.js";import{L as r}from"./use-auth-store-CiawQdvf.js";import{C as a,a as i,b as c,c as d}from"./card-CWiURnhm.js";import{B as t}from"./badge-DjWKEn-0.js";import{t as w}from"./template.service-BIwPJcYg.js";import{D as C}from"./delete-aKM04Y6L.js";import{C as T}from"./circle-alert-BKjPlwrc.js";import{T as B}from"./tag-DvlLXbiR.js";import{M as b}from"./message-square-BCjhE0Y3.js";import{C as A}from"./calendar-CpR0mcu4.js";import{B as S}from"./building-BwcEiMa8.js";import"./input-DpwfBUf3.js";import"./index-CD610jSn.js";import"./index-Chc_HW3c.js";import"./instance-BGpPafi2.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./dialog-BlA-gPk4.js";import"./useMutation-scFYzLXQ.js";import"./senderid.services-oF-ok74q.js";import"./createLucideIcon-BDxxsDtu.js";const es=()=>{const{id:n}=u(),x=p(),[o,l]=N.useState(!1),{data:e,isLoading:j,error:h}=f({queryKey:["template",n],queryFn:async()=>await w.getTemplateById(n)});return j?s.jsx(r,{children:s.jsx(r.Body,{children:s.jsx("div",{className:"mx-auto max-w-6xl p-6",children:s.jsx("div",{className:"flex h-64 items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})})})})}):h?s.jsx(r,{children:s.jsx(r.Body,{children:s.jsx(a,{className:"mx-auto max-w-6xl p-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-destructive",children:[s.jsx(T,{size:20}),s.jsx("p",{children:"Error loading template details"})]})})})}):s.jsxs(r,{children:[s.jsxs(r.Header,{sticky:!0,className:"mt-4 sm:mt-4 md:mt-0 lg:mt-0",children:[s.jsx(v,{}),s.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[s.jsx(g,{}),s.jsx(y,{})]})]}),s.jsxs(r.Body,{children:[s.jsxs("div",{className:"max-w-6xl space-y-6 p-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:e==null?void 0:e.name}),s.jsx(t,{variant:e!=null&&e.active?"default":"secondary",children:e!=null&&e.active?"Active":"Inactive"})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[s.jsxs(a,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2",children:[s.jsx(B,{className:"h-5 w-5"}),"Template Information"]})}),s.jsx(d,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Message Type"}),s.jsx(t,{variant:"outline",children:e==null?void 0:e.messageType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-sm",children:e==null?void 0:e.createdAt})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm",children:e==null?void 0:e.updatedAt})]})]})})]}),s.jsxs(a,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2",children:[s.jsx(b,{className:"h-5 w-5"}),"Message Preview"]})}),s.jsx(d,{children:s.jsx("p",{className:"whitespace-pre-wrap rounded-lg border p-4",children:e==null?void 0:e.message})})]}),s.jsxs(a,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2",children:[s.jsx(A,{className:"h-5 w-5"}),"Activity Timeline"]})}),s.jsx(d,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Created"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.createdAt})]})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Last Updated"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.updatedAt})]})})]})})]}),s.jsxs(a,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2",children:[s.jsx(S,{className:"h-5 w-5"}),"Customer Information"]})}),s.jsx(d,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Name"}),s.jsx("p",{className:"text-sm",children:e==null?void 0:e.customer.companyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"text-sm",children:[e==null?void 0:e.customer.firstName," ",e==null?void 0:e.customer.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Type"}),s.jsx(t,{variant:"outline",children:e==null?void 0:e.customer.customerType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMS Balance"}),s.jsx("p",{className:"text-sm",children:e==null?void 0:e.customer.smsBalance})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(m,{variant:"outline",onClick:()=>x("/templates/add",{state:{record:e}}),children:"Edit Template"}),s.jsx(m,{variant:"destructive",onClick:()=>l(!0),children:"Delete Template"})]})]}),o&&s.jsx(C,{id:e==null?void 0:e.id,name:e==null?void 0:e.name,onClose:()=>l(!1)})]})]})};export{es as TemplateView,es as default};
