import{r as e,l as s,j as t,B as n}from"./index-DgsANLC3.js";import{D as a,a as o,b as r,e as i,d as l,L as c}from"./use-auth-store-DlB6JPqf.js";import{u as d,S as m,T as p,U as x}from"./user-nav-BjY9odv6.js";import{D as u,a as j,b as h}from"./delete-dialog-D2RPb3zb.js";import{B as g}from"./badge-DkFHinrL.js";import{C as f}from"./checkbox-CDTCacFG.js";import{i as b}from"./index-8bOQzAwE.js";import{z as w}from"./index-B0zZW6rS.js";import{c as v}from"./contacts.service-CB5R8qdu.js";import"./index-D_xSc7Or.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./input-BaSBk-Gd.js";import"./instance-SAW19xTi.js";import"./table-DgNG9M6V.js";import"./select-B9KeDb6u.js";import"./index-DCG-2Pmh.js";import"./index-BEsgrMAU.js";import"./popover-BfTfSh0J.js";import"./extends-DPdBf6DS.js";import"./dialog-Cxh4_yU0.js";import"./separator-E74WL0Px.js";import"./useMutation-Bxa_RUaj.js";const y=N;function N(e,s){const t=S();return(N=function(e,s){return t[e-=458]})(e,s)}!function(){const e=N,s=S();for(;;)try{if(725041===parseInt(e(474))/1*(parseInt(e(475))/2)+-parseInt(e(458))/3+parseInt(e(473))/4+-parseInt(e(463))/5*(parseInt(e(478))/6)+parseInt(e(462))/7*(parseInt(e(465))/8)+parseInt(e(464))/9*(-parseInt(e(470))/10)+parseInt(e(472))/11*(parseInt(e(476))/12))break;s.push(s.shift())}catch(t){s.push(s.shift())}}();const I=function(){let e=!0;return function(s,t){const n=e?function(){if(t){const e=t.apply(s,arguments);return t=null,e}}:function(){};return e=!1,n}}()(void 0,(function(){const e=N,s={ymZxI:e(471)};return I[e(459)]()[e(468)](e(471)).toString()[e(466)](I)[e(468)](s[e(469)])}));I();const k=w.object({id:w.number(),name:w[y(460)](),description:w.string(),fileName:w.string(),count:w[y(477)](),deleted:w[y(467)](),active:w.boolean(),customer:w[y(461)](),createdBy:w.any(),createdAt:w[y(460)](),updatedAt:w.string()});function S(){const e=["243584ppCbmG","constructor","boolean","search","ymZxI","30ZqxLak","(((.+)+)+)+$","15304003lHNCMF","62680WEOHSU","49czwPoZ","20256SxRQNe","12dWxazi","number","62982Fmbsnv","1142586VLwdLV","toString","string","any","133hfCFaq","465VMlFwQ","1198809LoRwbm"];return(S=function(){return e})()}function C({row:c}){const d=k.parse(c.original),[m,p]=e.useState(!1),x=s();return t.jsxs(a,{children:[t.jsx(o,{asChild:!0,children:t.jsxs(n,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[t.jsx(b,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Open menu"})]})}),t.jsxs(r,{align:"end",className:"w-[160px]",children:[t.jsx(i,{onClick:()=>{x(`/phonebook/${d.id}`)},children:"View"}),t.jsx(i,{onClick:()=>{x("/upload-phonebook",{state:{record:d}})},children:"Edit"}),t.jsx(l,{}),t.jsx(i,{onClick:()=>{p(!0)},children:"Delete"})]}),m&&t.jsx(u,{id:null==d?void 0:d.id,name:null==d?void 0:d.name,onClose:()=>p(!1),type:"phonebook"})]})}const V=[{id:"select",header:({table:e})=>t.jsx(f,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>e.toggleAllPageRowsSelected(!!s),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:e})=>t.jsx(f,{checked:e.getIsSelected(),onCheckedChange:s=>e.toggleSelected(!!s),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:({column:e})=>t.jsx(j,{column:e,title:"#"}),cell:({row:e})=>t.jsx("div",{className:"w-[80px]",children:e.index+1}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:e})=>t.jsx(j,{column:e,title:"Name"}),cell:({row:e})=>t.jsx("div",{className:"w-[150px]",children:e.getValue("name")})},{accessorKey:"description",header:({column:e})=>t.jsx(j,{column:e,title:"description"}),cell:({row:e})=>t.jsx("div",{className:"w-[100px]",children:e.getValue("description")})},{accessorKey:"count",header:({column:e})=>t.jsx(j,{column:e,title:"Number of contacts"}),cell:({row:e})=>t.jsx("div",{className:"max-w-[200px] truncate",children:e.getValue("count")})},{accessorKey:"active",header:({column:e})=>t.jsx(j,{column:e,title:"Status"}),cell:({row:e})=>{const s=e.getValue("active");return t.jsx("div",{className:"flex w-[100px] items-center",children:t.jsx(g,{variant:s?"default":"destructive",children:s?"Active":"Inactive"})})}},{id:"actions",cell:({row:e})=>t.jsx(C,{row:e})}];function H(){const[s,n]=e.useState({pageIndex:0,pageSize:10}),{data:a,isLoading:o}=d({queryKey:["phone-books",s.pageIndex,s.pageSize],queryFn:async()=>{const e=await v.getCustomerPhoneBooks({page:s.pageIndex,size:s.pageSize});return e||{content:e.content||[],totalElements:null==e?void 0:e.totalElements}},retry:2,staleTime:3e5});return t.jsxs(c,{children:[t.jsxs(c.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[t.jsx(m,{}),t.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[t.jsx(p,{}),t.jsx(x,{})]})]}),t.jsxs(c.Body,{children:[t.jsx("div",{className:"mb-2 flex items-center justify-between space-y-2",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Phone books"}),t.jsx("p",{className:"text-muted-foreground",children:"Here's a list of all your phone books"})]})}),o?t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})}):t.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:t.jsx(h,{data:null==a?void 0:a.content,isIndex:!0,columns:V,pagination:s,onPaginationChange:n,totalElements:(null==a?void 0:a.totalElements)||0})})]})]})}export{H as default};
