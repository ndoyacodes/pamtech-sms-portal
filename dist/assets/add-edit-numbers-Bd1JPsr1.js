import{i as N,r as M,j as e,B as U}from"./index-st5SMf4n.js";import{u as E,F,a as n,b as i,c,d as t,e as o}from"./form-B_pa-BA1.js";import{t as A}from"./zod-DEjmu4j2.js";import{z as a}from"./index-DXqQCM1T.js";import{S as u,a as x,b as h,c as j,d as l}from"./select-BYKG-GNd.js";import{S as V}from"./react-select.esm-BgulYAEn.js";import{I as S}from"./input-C4pn_2rm.js";import{L as p}from"./store-hooks-B2SFewwu.js";import{S as B,T as q,U as P}from"./user-nav-P3KSmTFd.js";import"./index-C17H0gWx.js";import"./Combination-4EY11cig.js";import"./index-CdOpWLtN.js";import"./index-CwepU6uB.js";import"./index-C1MTEMBA.js";import"./toConsumableArray-rvy5E85K.js";import"./extends-CF3RwP-h.js";import"./index-DF6Vv7A4.js";const w=a.object({number:a.string().min(1,"Number is required"),status:a.string().min(1,"Status is required"),capabilities:a.array(a.string()).min(1,"Select at least one capability"),price:a.string(),billing_cycle:a.string().min(1,"Billing cycle is required"),customer:a.string().min(1,"Customer is required"),currency:a.string().min(1,"Currency is required")}),X=()=>{var g;const b=N(),d=(g=b==null?void 0:b.state)==null?void 0:g.record,m=d?"edit":"add",s=E({resolver:A(w),defaultValues:{number:"",status:"",capabilities:[],price:"0",billing_cycle:"",customer:"",currency:"USD"}}),C=()=>{};M.useEffect(()=>{m==="edit"&&d&&s.reset(d)},[m,d,s]);const y=[{value:"SMS",label:"SMS"},{value:"Voice",label:"Voice"},{value:"MMS",label:"MMS"},{value:"WhatsApp",label:"WhatsApp"}];return e.jsxs(p,{children:[e.jsxs(p.Header,{sticky:!0,children:[e.jsx(B,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(q,{}),e.jsx(P,{})]})]}),e.jsx(p.Header,{children:e.jsx("h2",{className:"text-2xl font-bold",children:m==="edit"?"Edit Number":"Add New Number"})}),e.jsxs(p.Body,{children:[e.jsxs("p",{children:["Numbers allow you to be recognisable and reachable for your Customers: provide a response option to your marketing messages,",e.jsx("br",{}),"be reachable locally in another country and manage your inbound messages if your sms gateway support this feature."]}),e.jsx(F,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(C),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{control:s.control,name:"number",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Number"}),e.jsx(t,{children:e.jsx(S,{placeholder:"Enter Number",...r})}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"status",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Status"}),e.jsx(t,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select status"})}),e.jsxs(j,{children:[e.jsx(l,{value:"Available",children:"Available"}),e.jsx(l,{value:"Unavailable",children:"Unavailable"})]})]})}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"capabilities",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Capabilities"}),e.jsx(t,{children:e.jsx(V,{className:"my-react-select-container",classNamePrefix:"my-react-select",isMulti:!0,options:y,placeholder:"Select capabilities",value:y.filter(v=>r.value.includes(v.value)),onChange:v=>r.onChange(v.map(f=>f.value))})}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"price",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Price"}),e.jsx(t,{children:e.jsx(S,{type:"number",min:"0",placeholder:"Enter Price",...r})}),e.jsx(o,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{control:s.control,name:"billing_cycle",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Billing Cycle"}),e.jsx(t,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select billing cycle"})}),e.jsxs(j,{children:[e.jsx(l,{value:"Monthly",children:"Monthly"}),e.jsx(l,{value:"Yearly",children:"Yearly"})]})]})}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"customer",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Select Customer"}),e.jsx(t,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select customer"})}),e.jsxs(j,{children:[e.jsx(l,{value:"Super Admin",children:"Super Admin"}),e.jsx(l,{value:"Customer1",children:"Customer 1"}),e.jsx(l,{value:"Customer2",children:"Customer 2"})]})]})}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"currency",render:({field:r})=>e.jsxs(i,{children:[e.jsx(c,{children:"Currency"}),e.jsx(t,{children:e.jsxs(u,{value:r.value,onValueChange:r.onChange,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select currency"})}),e.jsxs(j,{children:[e.jsx(l,{value:"USD",children:"USD"}),e.jsx(l,{value:"EUR",children:"EUR"}),e.jsx(l,{value:"GBP",children:"GBP"})]})]})}),e.jsx(o,{})]})})]})]}),e.jsx(U,{type:"submit",className:"btn-primary",children:m==="edit"?"Update":"Save"})]})})]})]})};export{X as default};
