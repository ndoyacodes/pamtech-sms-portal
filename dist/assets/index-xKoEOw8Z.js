import{r as n,j as e}from"./index-d9TgJTTy.js";import{L as i}from"./use-auth-store-CiawQdvf.js";import{u as x,S as g,T as u,U as f}from"./user-nav-1-09pvFT.js";import{D as h,c as j}from"./columns-DWbSTraL.js";import{m as y}from"./message.service-D7RZzy-l.js";import"./index-CD610jSn.js";import"./index-Chc_HW3c.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./input-DpwfBUf3.js";import"./instance-BGpPafi2.js";import"./table-DaUOpY8m.js";import"./select-cMMktxW9.js";import"./index-W6PM2pC6.js";import"./index-BCvMni3w.js";import"./index-C3hmKdn7.js";import"./index.esm-B6ab4Cq_.js";import"./zod-CLsu2KRF.js";import"./form-DxQsSBla.js";import"./label-BkzUlrRU.js";import"./senderid.services-oF-ok74q.js";import"./badge-DjWKEn-0.js";import"./checkbox-BGteumho.js";function O(){const[t,o]=n.useState({pageIndex:0,pageSize:10}),[m,l]=n.useState({filters:[],sorts:[{key:"id",direction:"DESC"}],page:0,size:10}),{data:s,isLoading:p,refetch:c}=x({queryKey:["all-sms",t.pageIndex,t.pageSize,m],queryFn:async()=>{const a={...m,page:t.pageIndex,size:t.pageSize},r=await y.getMessages({...a});return r||{content:r.content||[],totalElements:r==null?void 0:r.totalElements}},retry:2,staleTime:5*60*1e3}),d=a=>(l(a),o({pageIndex:0,pageSize:t.pageSize}),c());return e.jsxs(i,{children:[e.jsxs(i.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(g,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(u,{}),e.jsx(f,{})]})]}),e.jsxs(i.Body,{children:[e.jsx("div",{className:"mb-2 flex items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"All messages"}),e.jsx("p",{className:"text-muted-foreground",children:"Here's a list of all messages"})]})}),p?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})}):e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e.jsx(h,{data:s==null?void 0:s.content,columns:j,pagination:t,onPaginationChange:o,totalElements:(s==null?void 0:s.totalElements)||0,onFilterSubmit:d})})]})]})}export{O as default};
