import{r as U,j as e,c as z,B as N,L}from"./index-d9TgJTTy.js";import{C as B}from"./card-CWiURnhm.js";import{u as M}from"./index.esm-B6ab4Cq_.js";import{z as a}from"./index-C3hmKdn7.js";import{t as $}from"./zod-CLsu2KRF.js";import{F as O,a as t,b as n,c as l,d as i,e as c}from"./form-DxQsSBla.js";import{I as h}from"./input-DpwfBUf3.js";import{S as y,a as v,b,c as w,d as p}from"./select-cMMktxW9.js";import{P as k}from"./password-input-kC31DzPx.js";import{u as R}from"./useAuth-DOUCA08Y.js";import{c as S}from"./createLucideIcon-BDxxsDtu.js";import{U as C}from"./user-B16-2BYC.js";import{B as G}from"./building-BwcEiMa8.js";import{L as Y}from"./languages-B6rK4Ew8.js";import{B as H,M as J,S as F}from"./shield-CBQCwFWc.js";import{G as I}from"./globe-8DnZdi9k.js";import{P as K}from"./phone-DmpvV6rf.js";import"./label-BkzUlrRU.js";import"./index-Chc_HW3c.js";import"./index-CD610jSn.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-W6PM2pC6.js";import"./index-BCvMni3w.js";import"./IconEye-DtzBgD97.js";import"./useMutation-scFYzLXQ.js";import"./instance-BGpPafi2.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=S("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=S("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=S("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),f=({stepNumber:x,currentStep:u,title:m,icon:g})=>{const d=u>x,j=u===x;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`
            flex h-12 w-12 items-center justify-center rounded-full border-2 
            transition-all duration-500
            ${j?"border-primary bg-primary text-white":""}
            ${d?"border-green-500 bg-green-500 text-white":""}
            ${!j&&!d?"border-gray-300 text-gray-500":""}
          `,children:d?e.jsx(W,{className:"h-6 w-6"}):e.jsx(g,{className:"h-5 w-5"})}),e.jsx("div",{className:"absolute -bottom-8 left-1/2 w-max -translate-x-1/2",children:e.jsx("span",{className:`text-sm font-medium
              ${j?"text-black dark:text-white":""}
              ${d?"text-green-500":""}
              ${!j&&!d?"text-gray-500":""}
            `,children:m})})]}),x<4&&e.jsx("div",{className:`
            mx-2 h-0.5 w-20
            transition-all duration-500
            ${d?"bg-green-500":"bg-gray-300"}
          `})]})},Z=a.object({email:a.string().min(1,{message:"Email is required"}).email("Invalid email address"),password:a.string().min(7,{message:"Password must be at least 7 characters"}),confirmPassword:a.string(),firstName:a.string().min(1,{message:"First name is required"}),lastName:a.string().min(1,{message:"Last name is required"}),timezone:a.string().min(1,{message:"Timezone is required"}),language:a.string().min(1,{message:"Language is required"}),companyName:a.string().min(1,{message:"Company name is required"}),website:a.string().url({message:"Please enter a valid URL"}).or(a.string().length(0)),customerType:a.enum(["POSTPAID","PREPAID"]),countryCode:a.string().min(1,{message:"Country code is required"}),phoneNumber:a.string().min(1,{message:"Phone number is required"}),status:a.boolean(),kycFile:a.any().optional()}).refine(x=>x.password===x.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function _({className:x,...u}){const[m,g]=U.useState(1),{registerCustomer:d}=R();var j=Intl.supportedValuesOf("timeZone");const r=M({resolver:$(Z),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",timezone:"",language:"",companyName:"",website:"",customerType:"POSTPAID",countryCode:"",phoneNumber:"",status:!0,kycFile:""},mode:"onChange"}),T=async()=>{const o={1:["email","password","confirmPassword"],2:["firstName","lastName","countryCode","phoneNumber"],3:["companyName","customerType"],4:["language","timezone"]}[m];return await r.trigger(o)},A=s=>{console.log(s.kycFile);const o=new FormData;Object.entries({...s}).forEach(([P,E])=>{o.append(P,E)}),d.mutate(o)},V=async()=>{await T()&&g(o=>Math.min(o+1,4))},q=()=>g(s=>Math.max(s-1,1)),D=()=>{switch(m){case 1:return e.jsxs("div",{className:"space-y-4 ",children:[e.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Email"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"your@email.com",...s})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"password",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Password"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(k,{className:"pl-9",placeholder:"********",...s})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"confirmPassword",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Confirm Password"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(k,{className:"pl-9",placeholder:"********",...s})]})}),e.jsx(c,{})]})})]});case 2:return e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"First Name"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"John",...s})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Last Name"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"Doe",...s})]})}),e.jsx(c,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{control:r.control,name:"countryCode",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Country Code"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"+1",...s})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"phoneNumber",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Phone Number"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"(255) 000-0000",...s})]})}),e.jsx(c,{})]})})]})]});case 3:return e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-5",children:[e.jsx(t,{control:r.control,name:"companyName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Company Name"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"Your Company Ltd.",...s})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"website",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Website (Optional)"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{className:"pl-9",placeholder:"https://example.com",...s})]})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"customerType",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Account Type"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(i,{children:e.jsx(v,{children:e.jsx(b,{placeholder:"Select account type"})})}),e.jsxs(w,{children:[e.jsx(p,{value:"POSTPAID",children:"Postpaid"}),e.jsx(p,{value:"PREPAID",children:"Prepaid"})]})]}),e.jsx(c,{})]})})]});case 4:return e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{control:r.control,name:"language",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Language"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(i,{children:e.jsx(v,{children:e.jsx(b,{placeholder:"Select language"})})}),e.jsxs(w,{children:[e.jsx(p,{value:"en",children:"English"}),e.jsx(p,{value:"es",children:"Spanish"}),e.jsx(p,{value:"fr",children:"French"})]})]}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"timezone",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Timezone"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(i,{children:e.jsx(v,{children:e.jsx(b,{placeholder:"Select timezone"})})}),e.jsx(w,{children:j.map(o=>e.jsx(p,{value:o,children:o},o))})]}),e.jsx(c,{})]})})]}),e.jsx(t,{control:r.control,name:"kycFile",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"KYC Document"}),e.jsx(i,{children:e.jsxs("div",{className:"relative",children:[e.jsx(h,{type:"file",className:"pl-9",accept:"application/pdf",onChange:o=>s.onChange(o.target.files[0])}),e.jsx(X,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})}),e.jsx(c,{})]})})]});default:return null}};return e.jsxs("div",{className:z("grid gap-6",x),...u,children:[e.jsxs("div",{className:"mb-12 flex items-center justify-center px-4",children:[e.jsx(f,{stepNumber:1,currentStep:m,title:"Account",icon:Q}),e.jsx(f,{stepNumber:2,currentStep:m,title:"Personal",icon:C}),e.jsx(f,{stepNumber:3,currentStep:m,title:"Company",icon:G}),e.jsx(f,{stepNumber:4,currentStep:m,title:"Settings",icon:Y})]}),e.jsx(O,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(A),children:[D(),e.jsxs("div",{className:"flex justify-between pt-8",children:[m>1&&e.jsx(N,{type:"button",variant:"outline",onClick:q,className:"transition-all duration-300 hover:bg-gray-100",children:"Back"}),m<4?e.jsx(N,{type:"button",onClick:V,className:` transition-all duration-300  ${m===1?"w-full":""}`,children:"Continue"}):e.jsx(N,{type:"submit",className:"ml-2 w-full transition-all duration-300 hover:bg-green-700",loading:d.isPending,disabled:d.isPending,children:"Create Account"})]}),e.jsxs("div",{className:"relative mt-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsxs("span",{className:"bg-background px-2 text-muted-foreground",children:["Already have an account?","   "," ",e.jsx(L,{to:"/sign-in",children:"Login here!"})]})})]})]})})]})}function Fe(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container grid h-svh flex-col items-center justify-center max-w-none lg:px-0",children:e.jsx("div",{className:"mx-auto flex w-full flex-col justify-center space-y-2  lg:p-8",children:e.jsxs(B,{className:"p-6",children:[e.jsxs("div",{className:"mb-2 flex flex-col space-y-2 text-left",children:[e.jsx("div",{className:"mb-4 flex items-center justify-center py-4",children:e.jsx("img",{src:"/logo.png",alt:"opes logo",className:""})}),e.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Create an account"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Enter your email and password to create an account. ",e.jsx("br",{}),"Already have an account?"," ",e.jsx(L,{to:"/sign-in",className:"underline underline-offset-4 hover:text-primary",children:"Sign In"})]})]}),e.jsx(_,{}),e.jsxs("p",{className:"mt-4 px-8 text-center text-sm text-muted-foreground",children:["By creating an account, you agree to our"," ",e.jsx("a",{href:"#",className:"underline underline-offset-4 hover:text-primary",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"underline underline-offset-4 hover:text-primary",children:"Privacy Policy"}),"."]})]})})})})}export{Fe as default};
