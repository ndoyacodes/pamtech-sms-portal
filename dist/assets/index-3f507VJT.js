import{j as e,B as s,r as a,c as t}from"./index-DgsANLC3.js";import{D as n,f as l,b as i,c as r,d as c,g as o,a as d,e as m,L as x}from"./use-auth-store-DlB6JPqf.js";import{u,S as g,T as h,U as p}from"./user-nav-BjY9odv6.js";import{u as j,T as f,a as w,b as v,c as N,f as b,d as y,e as C,g as S,h as I,i as P,j as k,k as F,l as V}from"./table-DgNG9M6V.js";import{D as R,C as M,d as z,e as H,M as D,F as A,f as K,A as E,g as G,h as B,E as T,i as U,j as L}from"./index-8bOQzAwE.js";import{S as W,a as Z,b as $,c as q,d as O}from"./select-B9KeDb6u.js";import{I as X}from"./input-BaSBk-Gd.js";import{B as Q}from"./badge-DkFHinrL.js";import{C as Y}from"./checkbox-CDTCacFG.js";import{z as J}from"./index-B0zZW6rS.js";import{A as _}from"./instance-SAW19xTi.js";import"./index-D_xSc7Or.js";import"./index-ccUYw2Nl.js";import"./Combination-BCJfLLTG.js";import"./index-ByCmscx5.js";import"./index-BuCM2Ckj.js";import"./index-BQ1RgSiI.js";import"./index-DCG-2Pmh.js";import"./index-BEsgrMAU.js";function ee({table:a}){return e.jsxs("div",{className:"flex items-center justify-between overflow-auto px-2",children:[e.jsxs("div",{className:"hidden flex-1 text-sm text-muted-foreground sm:block",children:[a.getFilteredSelectedRowModel().rows.length," of"," ",a.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex items-center sm:space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),e.jsxs(W,{value:`${a.getState().pagination.pageSize}`,onValueChange:e=>{a.setPageSize(Number(e))},children:[e.jsx(Z,{className:"h-8 w-[70px]",children:e.jsx($,{placeholder:a.getState().pagination.pageSize})}),e.jsx(q,{side:"top",children:[10,20,30,40,50].map((s=>e.jsx(O,{value:`${s}`,children:s},s)))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",a.getState().pagination.pageIndex+1," of"," ",a.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(s,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>a.setPageIndex(0),disabled:!a.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(R,{className:"h-4 w-4"})]}),e.jsxs(s,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>a.previousPage(),disabled:!a.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(M,{className:"h-4 w-4"})]}),e.jsxs(s,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>a.nextPage(),disabled:!a.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(z,{className:"h-4 w-4"})]}),e.jsxs(s,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>a.setPageIndex(a.getPageCount()-1),disabled:!a.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(H,{className:"h-4 w-4"})]})]})]})]})}function se({table:a}){return e.jsxs(n,{children:[e.jsx(l,{asChild:!0,children:e.jsxs(s,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsxs(i,{align:"end",className:"w-[150px]",children:[e.jsx(r,{children:"Toggle columns"}),e.jsx(c,{}),a.getAllColumns().filter((e=>void 0!==e.accessorFn&&e.getCanHide())).map((s=>e.jsx(o,{className:"capitalize",checked:s.getIsVisible(),onCheckedChange:e=>s.toggleVisibility(!!e),children:s.id},s.id)))]})]})}function ae({table:a}){var t;const n=a.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[e.jsx(X,{placeholder:"Filter ...",value:(null==(t=a.getColumn("title"))?void 0:t.getFilterValue())??"",onChange:e=>{var s;return null==(s=a.getColumn("title"))?void 0:s.setFilterValue(e.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),e.jsx("div",{className:"flex gap-x-2",children:e.jsxs(s,{variant:"default",className:"h-8 px-2 lg:px-3",children:["Export",e.jsx(A,{className:"ml-2 h-4 w-4"})]})}),n&&e.jsxs(s,{variant:"ghost",onClick:()=>a.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(K,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(se,{table:a})]})}function te({columns:s,data:t,pagination:n,onPaginationChange:l,totalElements:i}){var r;const[c,o]=a.useState({}),[d,m]=a.useState({}),[x,u]=a.useState([]),[g,h]=a.useState([]),p=j({data:t,columns:s,state:{sorting:g,columnVisibility:d,rowSelection:c,columnFilters:x,pagination:n},manualPagination:!0,pageCount:Math.ceil(i/n.pageSize),onPaginationChange:e=>{const s="function"==typeof e?e(n):e;l(s)},enableRowSelection:!0,onRowSelectionChange:o,onSortingChange:h,onColumnFiltersChange:u,onColumnVisibilityChange:m,getCoreRowModel:V(),getFilteredRowModel:F(),getPaginationRowModel:k(),getSortedRowModel:P(),getFacetedRowModel:I(),getFacetedUniqueValues:S()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(ae,{table:p}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(f,{children:[e.jsx(w,{children:p.getHeaderGroups().map((s=>e.jsx(v,{children:s.headers.map((s=>e.jsx(N,{colSpan:s.colSpan,children:s.isPlaceholder?null:b(s.column.columnDef.header,s.getContext())},s.id)))},s.id)))}),e.jsx(y,{children:(null==(r=p.getRowModel().rows)?void 0:r.length)?p.getRowModel().rows.map((s=>e.jsx(v,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map((s=>e.jsx(C,{children:b(s.column.columnDef.cell,s.getContext())},s.id)))},s.id))):e.jsx(v,{children:e.jsx(C,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(ee,{table:p})]})}function ne({column:a,title:l,className:r}){return a.getCanSort()?e.jsx("div",{className:t("flex items-center space-x-2",r),children:e.jsxs(n,{children:[e.jsx(d,{asChild:!0,children:e.jsxs(s,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[e.jsx("span",{children:l}),"desc"===a.getIsSorted()?e.jsx(E,{className:"ml-2 h-4 w-4"}):"asc"===a.getIsSorted()?e.jsx(G,{className:"ml-2 h-4 w-4"}):e.jsx(B,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(i,{align:"start",children:[e.jsxs(m,{onClick:()=>a.toggleSorting(!1),children:[e.jsx(G,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),e.jsxs(m,{onClick:()=>a.toggleSorting(!0),children:[e.jsx(E,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.jsx(c,{}),e.jsxs(m,{onClick:()=>a.toggleVisibility(!1),children:[e.jsx(T,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):e.jsx("div",{className:t(r),children:l})}const le=ie;function ie(e,s){const a=re();return(ie=function(e,s){return a[e-=226]})(e,s)}function re(){const e=["44744454xlCLan","toString","2159088ihoIZb","12yMhpDE","(((.+)+)+)+$","4305968DzxpgR","string","apply","constructor","16JMWykb","417510gjhduu","search","1285625dFndTK","4933656ugPipK","object","369998EUCYaY"];return(re=function(){return e})()}!function(){const e=ie,s=re();for(;;)try{if(736223===-parseInt(e(236))/1+-parseInt(e(239))/2*(parseInt(e(227))/3)+-parseInt(e(229))/4+-parseInt(e(234))/5+parseInt(e(226))/6+-parseInt(e(237))/7*(parseInt(e(233))/8)+parseInt(e(240))/9)break;s.push(s.shift())}catch(a){s.push(s.shift())}}();const ce=function(){let e=!0;return function(s,a){const t=e?function(){if(a){const e=a[ie(231)](s,arguments);return a=null,e}}:function(){};return e=!1,t}}()(void 0,(function(){const e=ie,s={ZGXQH:e(228)};return ce.toString()[e(235)](e(228))[e(241)]()[e(232)](ce)[e(235)](s.ZGXQH)}));ce();const oe=J[le(238)]({id:J.string(),date:J[le(230)](),name:J[le(230)](),type:J[le(230)](),details:J[le(230)](),amount:J[le(230)](),status:J[le(230)]()});function de({row:a}){oe.parse(a.original);return e.jsxs(n,{children:[e.jsx(d,{asChild:!0,children:e.jsxs(s,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsx(i,{align:"end",className:"w-[160px]"})]})}const me=[{value:"bug",label:"Bug"},{value:"feature",label:"Feature"},{value:"documentation",label:"Documentation"}],xe=[{label:"Pending",value:"Pending",icon:L},{label:"Paid",value:"Paid",icon:E}],ue=[{id:"select",header:({table:s})=>e.jsx(Y,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>s.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(Y,{checked:s.getIsSelected(),onCheckedChange:e=>s.toggleSelected(!!e),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:({column:s})=>e.jsx(ne,{column:s,title:"#"}),cell:({row:s})=>e.jsx("div",{className:"w-[80px]",children:s.getValue("id")}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:({column:s})=>e.jsx(ne,{column:s,title:"Date"}),cell:({row:s})=>{const a=me.find((e=>e.value===s.original.date));return e.jsxs("div",{className:"flex space-x-2",children:[a&&e.jsx(Q,{variant:"outline",children:a.label}),e.jsx("span",{className:"max-w-32 truncate font-medium sm:max-w-72 md:max-w-[31rem]",children:s.getValue("title")})]})}},{accessorKey:"name",header:({column:s})=>e.jsx(ne,{column:s,title:"Name"}),cell:({row:s})=>e.jsx("div",{className:"w-[150px]",children:s.getValue("name")})},{accessorKey:"type",header:({column:s})=>e.jsx(ne,{column:s,title:"Type"}),cell:({row:s})=>e.jsx("div",{className:"w-[100px]",children:s.getValue("type")})},{accessorKey:"details",header:({column:s})=>e.jsx(ne,{column:s,title:"Details"}),cell:({row:s})=>e.jsx("div",{className:"max-w-[200px] truncate",children:s.getValue("details")})},{accessorKey:"amount",header:({column:s})=>e.jsx(ne,{column:s,title:"Amount"}),cell:({row:s})=>e.jsx("div",{className:"w-[100px]",children:s.getValue("amount")})},{accessorKey:"priority",header:({column:s})=>e.jsx(ne,{column:s,title:"Priority"}),cell:({row:s})=>{const a=xe.find((e=>e.value===s.getValue("priority")));return a?e.jsxs("div",{className:"flex items-center",children:[a.icon&&e.jsx(a.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:a.label})]}):null},filterFn:(e,s,a)=>a.includes(e.getValue(s))},{id:"actions",cell:({row:s})=>e.jsx(de,{row:s})}],ge=he;function he(e,s){const a=fe();return(he=function(e,s){return a[e-=322]})(e,s)}!function(){const e=he,s=fe();for(;;)try{if(226333===parseInt(e(322))/1+-parseInt(e(333))/2+parseInt(e(332))/3+-parseInt(e(327))/4+-parseInt(e(328))/5*(parseInt(e(331))/6)+parseInt(e(335))/7*(-parseInt(e(324))/8)+parseInt(e(325))/9*(parseInt(e(329))/10))break;s.push(s.shift())}catch(a){s.push(s.shift())}}();const pe=function(){let e=!0;return function(s,a){const t=e?function(){if(a){const e=a[he(323)](s,arguments);return a=null,e}}:function(){};return e=!1,t}}()(void 0,(function(){const e=he;return pe[e(336)]()[e(337)](e(334))[e(336)]()[e(326)](pe)[e(337)](e(334))}));pe();class je extends _{constructor(){super("baseService")}[ge(330)](e){const s=ge;return this.get(s(338),e)}}function fe(){const e=["search","/transactions/invoices","282222UWyFDz","apply","16mHHcrX","9oLPBUr","constructor","810488VSRRAB","1058485MMvfWk","6893830uxwuHf","getInvoices","12WUSsPA","752724OFmSLl","674672FTEion","(((.+)+)+)+$","114898GMnZOV","toString"];return(fe=function(){return e})()}const we=new je;function ve(){const[s,t]=a.useState({pageIndex:0,pageSize:10}),{data:n,isLoading:l}=u({queryKey:["invoices",s.pageIndex,s.pageSize],queryFn:async()=>await we.getInvoices({page:s.pageIndex,size:s.pageSize}),retry:2,staleTime:3e5});return e.jsxs(x,{children:[e.jsxs(x.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(g,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(h,{}),e.jsx(p,{})]})]}),e.jsxs(x.Body,{children:[e.jsx("div",{className:"mb-2 flex items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Invoices"}),e.jsx("p",{className:"text-muted-foreground",children:"Here's a list of all invoices"})]})}),l?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-gray-900 dark:border-white"})}):e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:e.jsx(te,{data:n||[],columns:ue,pagination:s,onPaginationChange:t,totalElements:(null==n?void 0:n.totalElements)||0})})]})]})}export{ve as default};
