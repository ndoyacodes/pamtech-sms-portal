import{f as x,r as u,j as e,B as f}from"./index-d9TgJTTy.js";import{z as l}from"./index-C3hmKdn7.js";import{t as h}from"./zod-CLsu2KRF.js";import{u as j}from"./index.esm-B6ab4Cq_.js";import{F as S,a as b,b as g,c as N,d as y,e as I}from"./form-DxQsSBla.js";import{I as v}from"./input-DpwfBUf3.js";import{L as o}from"./use-auth-store-CiawQdvf.js";import{S as F,T as C,U as D}from"./user-nav-1-09pvFT.js";import{u as E}from"./senderid-hook-CbylRA8w.js";import"./label-BkzUlrRU.js";import"./index-Chc_HW3c.js";import"./index-CD610jSn.js";import"./index-EIcx_2LO.js";import"./Combination-D2mTRfsA.js";import"./index-LU4gLCaG.js";import"./index-DT5heVsp.js";import"./index-BIPiAFp5.js";import"./instance-BGpPafi2.js";import"./useMutation-scFYzLXQ.js";import"./senderid.services-oF-ok74q.js";const w=l.object({name:l.string().min(1,"name is required")}),Y=()=>{var d;const{createSenderId:a,updateSenderId:m}=E(),t=x(),s=(d=t==null?void 0:t.state)==null?void 0:d.record,r=j({resolver:h(w),defaultValues:s||{billingCycle:"CUSTOM",senderId:(s==null?void 0:s.senderId)||"",price:0}});u.useEffect(()=>{r.setValue("name",s==null?void 0:s.senderId)},[s]);function p(i){const c={...i,price:0,billingCycle:"CUSTOM"};s?m.mutate({id:s==null?void 0:s.id,data:{...c,id:s==null?void 0:s.id}}):a.mutate({data:c})}const n=a.isPending||m.isPending;return e.jsxs(o,{children:[e.jsxs(o.Header,{sticky:!0,className:"mt-4 lg:mt-0 md:mt-0 sm:mt-4",children:[e.jsx(F,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(C,{}),e.jsx(D,{})]})]}),e.jsxs(o.Body,{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:s?"Edit Sender ID":"Add New Sender ID"}),e.jsxs("p",{className:"text-muted-foreground",children:["Sender ID is what appears on people's phones to show who the SMS is from.",e.jsx("br",{}),"It can be your Brand Name or Company Name. Set Price value 0 for free of cost sender id on OPES SMS"]})]})}),e.jsx(S,{...r,children:e.jsx("form",{onSubmit:r.handleSubmit(p),children:e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{control:r.control,name:"name",render:({field:i})=>e.jsxs(g,{children:[e.jsx(N,{children:"Sender ID'"}),e.jsx(y,{children:e.jsx(v,{placeholder:"Enter Sender ID'",...i})}),e.jsx(I,{})]})}),e.jsx("div",{className:"mt-4",children:e.jsx(f,{type:"submit",className:"btn-primary w-full",loading:n,disabled:n,children:s?"Edit Sender ID":"Create Sender ID"})})]})})})})]})]})};export{Y as default};
