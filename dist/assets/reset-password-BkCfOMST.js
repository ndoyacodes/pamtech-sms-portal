import{u as P,a as b,j as s,c as N,B as y,d as F}from"./index-d9TgJTTy.js";import{C as v}from"./card-CWiURnhm.js";import{t as C}from"./zod-CLsu2KRF.js";import{u as S}from"./index.esm-B6ab4Cq_.js";import{z as t}from"./index-C3hmKdn7.js";import{F as R,a as i,b as l,c as d,d as p,e as x}from"./form-DxQsSBla.js";import{I as f}from"./input-DpwfBUf3.js";import{u as k}from"./useAuth-DOUCA08Y.js";import"./label-BkzUlrRU.js";import"./index-Chc_HW3c.js";import"./useMutation-scFYzLXQ.js";import"./instance-BGpPafi2.js";const A=t.object({password:t.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:t.string()}).refine(r=>r.password===r.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function B({className:r,...u}){const{reset:o}=k(),{token:n}=P(),[h]=b(),j=h.get("userid")||"",a=S({resolver:C(A),defaultValues:{password:"",confirmPassword:""}});function g(e){const w={password:e.password};let c="";n&&(c=n);const m={token:c,email:F(j),data:w};console.log(m),o.mutateAsync(m)}return s.jsx("div",{className:N("grid gap-6",r),...u,children:s.jsx(R,{...a,children:s.jsx("form",{onSubmit:a.handleSubmit(g),children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(i,{control:a.control,name:"password",render:({field:e})=>s.jsxs(l,{className:"space-y-1",children:[s.jsx(d,{children:"New Password"}),s.jsx(p,{children:s.jsx(f,{type:"password",placeholder:"Password",...e})}),s.jsx(x,{})]})}),s.jsx(i,{control:a.control,name:"confirmPassword",render:({field:e})=>s.jsxs(l,{className:"space-y-1",children:[s.jsx(d,{children:"Confirm Password"}),s.jsx(p,{children:s.jsx(f,{type:"password",placeholder:"Confirm Password",...e})}),s.jsx(x,{})]})}),s.jsx(y,{className:"mt-2",loading:o.isPending,disabled:o.isPending,children:"Reset"})]})})})})}function K(){return s.jsx(s.Fragment,{children:s.jsx("div",{className:"container grid h-svh flex-col items-center justify-center bg-primary-foreground lg:max-w-none lg:px-0",children:s.jsx("div",{className:"mx-auto flex w-full flex-col justify-center space-y-2 sm:w-[480px] lg:p-8",children:s.jsxs(v,{className:"p-6",children:[s.jsx("div",{className:"mb-4 flex items-center justify-center py-4",children:s.jsx("img",{src:"/logo.png",alt:"opes logo",className:""})}),s.jsx("div",{className:"mb-2 flex flex-col space-y-2 text-left",children:s.jsx("h1",{className:"text-md font-semibold tracking-tight",children:"Reset Password"})}),s.jsx(B,{})]})})})})}export{K as default};
