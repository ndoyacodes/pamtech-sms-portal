import{l as p,k as C,y as r}from"./index-d9TgJTTy.js";import{u as c}from"./useMutation-scFYzLXQ.js";import{A as y}from"./instance-BGpPafi2.js";class g extends y{constructor(){super("baseService")}getCustomers(s){return this.get("/customer",s)}approveCustomer(s){return this.post("/customer/approve",s)}getCustomerById(s){return this.get(`/customer/${s}`)}getCustomerKycFile(s){return this.get(`/customer/attachment/${s}`,{})}createCustomer(s){return this.post("/customer",s,{headers:{"Content-Type":"multipart/form-data"}})}updateCustomer(s,n){return this.patch(`/customer/${s}`,n,{headers:{"Content-Type":"multipart/form-data"}})}deleteCustomer(s){return this.delete(`/customer/${s}`,{id:s})}}const m=new g,f=()=>{const a=p(),s=C(),n=c({mutationFn:({data:e})=>m.createCustomer(e),onSuccess:()=>{a.invalidateQueries({queryKey:["customers"]}),s("/customers"),r.success("Customer created successfully")},onError:e=>{var t,o;const u=((o=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to create customer";r.error(u)}}),i=c({mutationFn:e=>m.approveCustomer(e),onSuccess:()=>{a.invalidateQueries({queryKey:["customers","customer-details"]}).then(e=>console.log(e))},onError:e=>{var t,o;const u=((o=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to approve customer";r.error(u)}}),d=c({mutationFn:({id:e,data:u})=>m.updateCustomer(e,u),onSuccess:()=>{a.invalidateQueries({queryKey:["customers","customer-details"]}),s("/customers"),r.success("Customer updated successfully")},onError:e=>{var t,o;const u=((o=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to update customer";r.error(u)}}),l=c({mutationFn:e=>m.deleteCustomer(e),onSuccess:()=>{a.invalidateQueries({queryKey:["customers"]}),s("/customers"),r.success("Customer deleted successfully")},onError:e=>{var t,o;const u=((o=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:o.message)||"Failed to delete customer";r.error(u)}});return{createCustomer:n,updateCustomer:d,deleteCustomer:l,approveCustomer:i}};export{m as c,f as u};
